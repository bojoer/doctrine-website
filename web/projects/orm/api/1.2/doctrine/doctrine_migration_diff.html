<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 11:50:25 -0400">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Doctrine_Migration_Diff (Doctrine 1.2 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_migration_diff.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\Doctrine_Migration_Diff</div>
<div class="location">/Doctrine/Migration/Diff.php at line 34</div>

<h1>Class Doctrine_Migration_Diff</h1>

<pre class="tree"><strong>Doctrine_Migration_Diff</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Doctrine_Migration_Diff</strong></p>

<div class="comment" id="overview_description"><p>Doctrine_Migration_Diff - class used for generating differences and migration
classes from 'from' and 'to' schema information.</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>Migration</dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>See Also:</dt>
<dd><code>www.doctrine-project.org</code></dd>
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>$Revision: 1080 $</dd>
<dt>Author:</dt>
<dd>Jonathan H. Wage <jonwage@gmail.com></dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_changes">$_changes</a></p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_from">$_from</a></p></td>
</tr>
<tr>
<td class="type">protected static  mixed</td>
<td class="description"><p class="name"><a href="#_fromPrefix">$_fromPrefix</a></p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_migration">$_migration</a></p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_startingModelFiles">$_startingModelFiles</a></p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_tmpPath">$_tmpPath</a></p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_to">$_to</a></p></td>
</tr>
<tr>
<td class="type">protected static  mixed</td>
<td class="description"><p class="name"><a href="#_toPrefix">$_toPrefix</a></p></td>
</tr>
</table>

<table id="summary_constr">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="description"><p class="name"><a href="#Doctrine_Migration_Diff()">Doctrine_Migration_Diff</a>(string from, string to, mixed migration)</p><p class="description">Instantiate new Doctrine_Migration_Diff instance.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_buildChanges()">_buildChanges</a>(array from, array to)</p><p class="description">Build array of changes between the from and to array of schema information.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_buildModelInformation()">_buildModelInformation</a>(array models)</p><p class="description">Build all the model schema information for the passed array of models.</p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_cleanModelInformation()">_cleanModelInformation</a>(mixed info)</p><p class="description">Clean the produced model information of any potential prefix text.</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#_cleanup()">_cleanup</a>()</p><p class="description">Cleanup temporary generated models after a diff is performed.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_diff()">_diff</a>(string from, string to)</p><p class="description">Generate a diff between the from and to schema information.</p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#_generateModels()">_generateModels</a>(string prefix, mixed item)</p><p class="description">Generate a set of models for the schema information source.</p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#_getItemExtension()">_getItemExtension</a>(string item)</p><p class="description">Get the extension of the type of file contained in a directory.
</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_initializeModels()">_initializeModels</a>(string path)</p><p class="description">Initialize some Doctrine models at a given path..</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#generateChanges()">generateChanges</a>()</p><p class="description">Generate an array of changes found between the from and to schema information..</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#generateMigrationClasses()">generateMigrationClasses</a>()</p><p class="description">Generate a migration class for the changes in this diff instance.</p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#getUniqueId()">getUniqueId</a>()</p><p class="description">Get unique hash id for this migration instance.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setTmpPath()">setTmpPath</a>(string tmpPath)</p><p class="description">Set the temporary path to store the generated models for generating diffs.</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_changes">_changes</h3>
<code class="signature">protected  mixed <strong>$_changes</strong> = array(...)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_from">_from</h3>
<code class="signature">protected  mixed <strong>$_from</strong></code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 51</div>
<h3 id="_fromPrefix">_fromPrefix</h3>
<code class="signature">protected static  mixed <strong>$_fromPrefix</strong> = 'FromPrfx'</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_migration">_migration</h3>
<code class="signature">protected  mixed <strong>$_migration</strong></code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_startingModelFiles">_startingModelFiles</h3>
<code class="signature">protected  mixed <strong>$_startingModelFiles</strong> = array()</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_tmpPath">_tmpPath</h3>
<code class="signature">protected  mixed <strong>$_tmpPath</strong></code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 36</div>
<h3 id="_to">_to</h3>
<code class="signature">protected  mixed <strong>$_to</strong></code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 51</div>
<h3 id="_toPrefix">_toPrefix</h3>
<code class="signature">protected static  mixed <strong>$_toPrefix</strong> = 'ToPrfx'</code>
<div class="details">
</div>

<hr>

<h2 id="detail_constr">Constructor Detail</h2>
<div class="location">/Doctrine/Migration/Diff.php at line 67</div>
<h3 id="Doctrine_Migration_Diff()">Doctrine_Migration_Diff</h3>
<code class="signature">public <strong>Doctrine_Migration_Diff</strong>(string from, string to, mixed migration)</code>
<div class="details">
<p>Instantiate new Doctrine_Migration_Diff instance</p><p><code>
$diff = new Doctrine_Migration_Diff('/path/to/old_models', '/path/to/new_models', '/path/to/migrations');
$diff->generateMigrationClasses();
</code></p><dl>
<dt>Parameters:</dt>
<dd>from - The from schema information source</dd>
<dd>to - The to schema information source</dd>
<dd>migration - Instance of Doctrine_Migration or path to migration classes</dd>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/Migration/Diff.php at line 185</div>
<h3 id="_buildChanges()">_buildChanges</h3>
<code class="signature">protected  array <strong>_buildChanges</strong>(array from, array to)</code>
<div class="details">
<p>Build array of changes between the from and to array of schema information</p><dl>
<dt>Parameters:</dt>
<dd>from - Array of schema information to generate changes from</dd>
<dd>to - Array of schema information to generate changes for</dd>
<dt>Returns:</dt>
<dd>$changes</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 288</div>
<h3 id="_buildModelInformation()">_buildModelInformation</h3>
<code class="signature">protected  array <strong>_buildModelInformation</strong>(array models)</code>
<div class="details">
<p>Build all the model schema information for the passed array of models</p><dl>
<dt>Parameters:</dt>
<dd>models - Array of models to build the schema information for</dd>
<dt>Returns:</dt>
<dd>$info Array of schema information for all the passed models</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 309</div>
<h3 id="_cleanModelInformation()">_cleanModelInformation</h3>
<code class="signature">protected  mixed <strong>_cleanModelInformation</strong>(mixed info)</code>
<div class="details">
<p>Clean the produced model information of any potential prefix text</p><dl>
<dt>Parameters:</dt>
<dd>info - Either array or string to clean of prefixes</dd>
<dt>Returns:</dt>
<dd>$info Cleaned value which is either an array or string</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 403</div>
<h3 id="_cleanup()">_cleanup</h3>
<code class="signature">protected  void <strong>_cleanup</strong>()</code>
<div class="details">
<p>Cleanup temporary generated models after a diff is performed</p></div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 160</div>
<h3 id="_diff()">_diff</h3>
<code class="signature">protected  array <strong>_diff</strong>(string from, string to)</code>
<div class="details">
<p>Generate a diff between the from and to schema information</p><dl>
<dt>Parameters:</dt>
<dd>from - Path to set of models to migrate from</dd>
<dd>to - Path to set of models to migrate to</dd>
<dt>Returns:</dt>
<dd>$changes</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 366</div>
<h3 id="_generateModels()">_generateModels</h3>
<code class="signature">protected  string <strong>_generateModels</strong>(string prefix, mixed item)</code>
<div class="details">
<p>Generate a set of models for the schema information source</p><dl>
<dt>Parameters:</dt>
<dd>prefix - Prefix to generate the models with</dd>
<dd>item - The item to generate the models from</dd>
<dt>Returns:</dt>
<dd>$path The path where the models were generated</dd>
<dt>Throws:</dt>
<dd>$e</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 338</div>
<h3 id="_getItemExtension()">_getItemExtension</h3>
<code class="signature">protected  string <strong>_getItemExtension</strong>(string item)</code>
<div class="details">
<p>Get the extension of the type of file contained in a directory.
Used to determine if a directory contains YAML or PHP files.</p><dl>
<dt>Returns:</dt>
<dd>$extension</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 138</div>
<h3 id="_initializeModels()">_initializeModels</h3>
<code class="signature">protected  array <strong>_initializeModels</strong>(string path)</code>
<div class="details">
<p>Initialize some Doctrine models at a given path.</p><dl>
<dt>Returns:</dt>
<dd>$models</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 110</div>
<h3 id="generateChanges()">generateChanges</h3>
<code class="signature">public  array <strong>generateChanges</strong>()</code>
<div class="details">
<p>Generate an array of changes found between the from and to schema information.</p><dl>
<dt>Returns:</dt>
<dd>$changes</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 125</div>
<h3 id="generateMigrationClasses()">generateMigrationClasses</h3>
<code class="signature">public  array <strong>generateMigrationClasses</strong>()</code>
<div class="details">
<p>Generate a migration class for the changes in this diff instance</p><dl>
<dt>Returns:</dt>
<dd>$changes</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 100</div>
<h3 id="getUniqueId()">getUniqueId</h3>
<code class="signature">protected  string <strong>getUniqueId</strong>()</code>
<div class="details">
<p>Get unique hash id for this migration instance</p><dl>
<dt>Returns:</dt>
<dd>$uniqueId</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Migration/Diff.php at line 87</div>
<h3 id="setTmpPath()">setTmpPath</h3>
<code class="signature">public  void <strong>setTmpPath</strong>(string tmpPath)</code>
<div class="details">
<p>Set the temporary path to store the generated models for generating diffs</p></div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_migration_diff.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>