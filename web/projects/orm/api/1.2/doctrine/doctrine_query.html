<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 11:50:25 -0400">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Doctrine_Query (Doctrine 1.2 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_query.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\Doctrine_Query</div>
<div class="location">/Doctrine/Query.php at line 59</div>

<h1>Class Doctrine_Query</h1>

<pre class="tree">Class:Doctrine_Query - Superclass: Doctrine_Query_Abstract
<a href="../doctrine/doctrine_query_abstract.html">Doctrine_Query_Abstract</a><br>   &lfloor;&nbsp;<strong>Doctrine_Query</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Doctrine_Query</strong><br>extends <a href="../doctrine/doctrine_query_abstract.html">Doctrine_Query_Abstract</a>

</p>

<div class="comment" id="overview_description"><p>Doctrine_Query
A Doctrine_Query object represents a DQL query. It is used to query databases for
data in an object-oriented fashion. A DQL query understands relations and inheritance
and is dbms independant.</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>Query</dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>See Also:</dt>
<dd><code>www.doctrine-project.org</code></dd>
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>$Revision: 7490 $</dd>
<dt>Author:</dt>
<dd>Konsta Vesterinen <kvesteri@cc.hut.fi></dd>
<dt>Todo:</dt>
<dd>Proposal: This class does far too much. It should have only 1 task: Collecting the DQL query parts and the query parameters (the query state and caching options/methods can remain here, too). The actual SQL construction could be done by a separate object (Doctrine_Query_SqlBuilder?) whose task it is to convert DQL into SQL. Furthermore the SqlBuilder? can then use other objects (Doctrine_Query_Tokenizer?), (Doctrine_Query_Parser(s)?) to accomplish his work. Doctrine_Query does not need to know the tokenizer/parsers. There could be extending implementations of SqlBuilder? that cover the specific SQL dialects. This would release Doctrine_Connection and the Doctrine_Connection_xxx classes from this tedious task. This would also largely reduce the currently huge interface of Doctrine_Query(_Abstract) and better hide all these transformation internals from the public Query API.</dd>
<dt>Internal:</dt>
<dd>The lifecycle of a Query object is the following: After construction the query object is empty. Through using the fluent query interface the user fills the query object with DQL parts and query parameters. These get collected in {@link $_dqlParts} and {@link $_params}, respectively. When the query is executed the first time, or when {@link getSqlQuery()} is called the first time, the collected DQL parts get parsed and the resulting connection-driver specific SQL is generated. The generated SQL parts are stored in {@link $_sqlParts} and the final resulting SQL query is stored in {@link $_sql}.</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">protected  array $_aggregateAliasMap       an array containing all aggregate aliases, keys as dql aliases and values as sql aliases</td>
<td class="description"><p class="name"><a href="#_aggregateAliasMap">$_aggregateAliasMap</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_expressionMap">$_expressionMap</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_isSubquery">$_isSubquery</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected static  array  The DQL keywords.</td>
<td class="description"><p class="name"><a href="#_keywords">$_keywords</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $_neededTables            an array containing the needed table aliases</td>
<td class="description"><p class="name"><a href="#_neededTables">$_neededTables</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_needsSubquery">$_needsSubquery</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $_parsers                 an array of parser objects, each DQL query part has its own parser</td>
<td class="description"><p class="name"><a href="#_parsers">$_parsers</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_pendingAggregates">$_pendingAggregates</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $_pendingFields           an array of pending fields (fields waiting to be parsed)</td>
<td class="description"><p class="name"><a href="#_pendingFields">$_pendingFields</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $_pendingJoinConditions    an array containing pending joins</td>
<td class="description"><p class="name"><a href="#_pendingJoinConditions">$_pendingJoinConditions</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $pendingSubqueries        SELECT part subqueries, these are called pending subqueries since they cannot be parsed directly (some queries might be correlated)</td>
<td class="description"><p class="name"><a href="#_pendingSubqueries">$_pendingSubqueries</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  string $_sql            cached SQL query</td>
<td class="description"><p class="name"><a href="#_sql">$_sql</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_subqueryAliases">$_subqueryAliases</a></p><p class="description">.</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Fields inherited from Doctrine\Doctrine_Query_Abstract</th></tr>
<tr><td><a href="../doctrine/doctrine_query_abstract.html#CREATE">CREATE</a>, <a href="../doctrine/doctrine_query_abstract.html#DELETE">DELETE</a>, <a href="../doctrine/doctrine_query_abstract.html#INSERT">INSERT</a>, <a href="../doctrine/doctrine_query_abstract.html#SELECT">SELECT</a>, <a href="../doctrine/doctrine_query_abstract.html#STATE_CLEAN">STATE_CLEAN</a>, <a href="../doctrine/doctrine_query_abstract.html#STATE_DIRECT">STATE_DIRECT</a>, <a href="../doctrine/doctrine_query_abstract.html#STATE_DIRTY">STATE_DIRTY</a>, <a href="../doctrine/doctrine_query_abstract.html#STATE_LOCKED">STATE_LOCKED</a>, <a href="../doctrine/doctrine_query_abstract.html#UPDATE">UPDATE</a>, <a href="../doctrine/doctrine_query_abstract.html#_components">_components</a>, <a href="../doctrine/doctrine_query_abstract.html#_conn">_conn</a>, <a href="../doctrine/doctrine_query_abstract.html#_dqlParts">_dqlParts</a>, <a href="../doctrine/doctrine_query_abstract.html#_execParams">_execParams</a>, <a href="../doctrine/doctrine_query_abstract.html#_expireQueryCache">_expireQueryCache</a>, <a href="../doctrine/doctrine_query_abstract.html#_expireResultCache">_expireResultCache</a>, <a href="../doctrine/doctrine_query_abstract.html#_hydrator">_hydrator</a>, <a href="../doctrine/doctrine_query_abstract.html#_isLimitSubqueryUsed">_isLimitSubqueryUsed</a>, <a href="../doctrine/doctrine_query_abstract.html#_options">_options</a>, <a href="../doctrine/doctrine_query_abstract.html#_params">_params</a>, <a href="../doctrine/doctrine_query_abstract.html#_parser">_parser</a>, <a href="../doctrine/doctrine_query_abstract.html#_passedConn">_passedConn</a>, <a href="../doctrine/doctrine_query_abstract.html#_preQueried">_preQueried</a>, <a href="../doctrine/doctrine_query_abstract.html#_queryCache">_queryCache</a>, <a href="../doctrine/doctrine_query_abstract.html#_queryCacheTTL">_queryCacheTTL</a>, <a href="../doctrine/doctrine_query_abstract.html#_queryComponents">_queryComponents</a>, <a href="../doctrine/doctrine_query_abstract.html#_resultCache">_resultCache</a>, <a href="../doctrine/doctrine_query_abstract.html#_resultCacheHash">_resultCacheHash</a>, <a href="../doctrine/doctrine_query_abstract.html#_resultCacheTTL">_resultCacheTTL</a>, <a href="../doctrine/doctrine_query_abstract.html#_rootAlias">_rootAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#_sqlParts">_sqlParts</a>, <a href="../doctrine/doctrine_query_abstract.html#_state">_state</a>, <a href="../doctrine/doctrine_query_abstract.html#_tableAliasMap">_tableAliasMap</a>, <a href="../doctrine/doctrine_query_abstract.html#_tableAliasSeeds">_tableAliasSeeds</a>, <a href="../doctrine/doctrine_query_abstract.html#_tokenizer">_tokenizer</a>, <a href="../doctrine/doctrine_query_abstract.html#_type">_type</a>, <a href="../doctrine/doctrine_query_abstract.html#_view">_view</a></td></tr></table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__clone()">__clone</a>()</p><p class="description">Magic method called after cloning process..</p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#_buildSqlFromPart()">_buildSqlFromPart</a>(mixed ignorePending)</p><p class="description">_buildSqlFromPart
builds the from part of the query and returns it.</p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#_buildSqlQueryBase()">_buildSqlQueryBase</a>()</p><p class="description">_buildSqlQueryBase
returns the base of the generated sql query
On mysql driver special strategy has to be used for DELETE statements
(where is this special strategy??).</p></td>
</tr>
<tr>
<td class="type">private  boolean</td>
<td class="description"><p class="name"><a href="#_isOrderedByJoinedColumn()">_isOrderedByJoinedColumn</a>()</p><p class="description">Checks whether the query has an ORDER BY on a column of a joined table.
</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#_killReference()">_killReference</a>(string key)</p><p class="description">Kill the reference for the passed class property.
</p></td>
</tr>
<tr>
<td class="type">protected  Processed</td>
<td class="description"><p class="name"><a href="#_processPendingJoinConditions()">_processPendingJoinConditions</a>(string alias)</p><p class="description">Processes the pending join conditions, used for dynamically add conditions
to root component/joined components without interfering in the main dql
handling..</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#addPendingJoinCondition()">addPendingJoinCondition</a>(string componentAlias, string joinCondition)</p><p class="description">addPendingJoinCondition.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#adjustProcessedParam()">adjustProcessedParam</a>(mixed index)</p><p class="description">Adjust the processed param index for "foo.bar IN ?" support.</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#buildAssociativeRelationSql()">buildAssociativeRelationSql</a>(mixed relation, mixed assocAlias, mixed foreignAlias, mixed localAlias)</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#buildIndexBy()">buildIndexBy</a>(mixed componentAlias, mixed mapWith)</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#buildInheritanceJoinSql()">buildInheritanceJoinSql</a>(string name, string componentAlias)</p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#buildSimpleRelationSql()">buildSimpleRelationSql</a>(mixed relation, mixed foreignAlias, mixed localAlias, mixed overrideJoin, mixed join)</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#buildSqlQuery()">buildSqlQuery</a>(bool limitSubquery)</p><p class="description">Build the SQL query from the DQL.</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#clear()">clear</a>()</p><p class="description">Clears all the sql parts..</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#contains()">contains</a>(string dql)</p><p class="description">contains.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#copy()">copy</a>(mixed query)</p><p class="description">Copies a Doctrine_Query object..</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#count()">count</a>(array params)</p><p class="description">Fetches the count of the query.
</p></td>
</tr>
<tr>
<td class="type">static  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#create()">create</a>(<a href="../doctrine/doctrine_connection.html">Doctrine_Connection</a> conn, string class)</p><p class="description">create
returns a new Doctrine_Query object.</p></td>
</tr>
<tr>
<td class="type"> Doctrine_Hydrate</td>
<td class="description"><p class="name"><a href="#createSubquery()">createSubquery</a>()</p><p class="description">createSubquery
creates a subquery.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchArray()">fetchArray</a>(string params)</p><p class="description">fetchArray
Convenience method to execute using array fetching as hydration mode..</p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#fetchOne()">fetchOne</a>(string params, int hydrationMode)</p><p class="description">fetchOne
Convenience method to execute the query and return the first item
of the collection..</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#free()">free</a>()</p><p class="description">Frees the resources used by the query object. </p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getCountSqlQuery()">getCountSqlQuery</a>()</p><p class="description">Get count sql query for this Doctrine_Query instance.
</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getDqlPart()">getDqlPart</a>(string queryPart)</p><p class="description">Retrieves a specific DQL query part..</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getExpressionOwner()">getExpressionOwner</a>(string expr)</p><p class="description">getExpressionOwner
returns the component alias for owner of given expression.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getLimitSubquery()">getLimitSubquery</a>()</p><p class="description">getLimitSubquery
this is method is used by the record limit algorithm.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getSqlAggregateAlias()">getSqlAggregateAlias</a>(string dqlAlias)</p><p class="description">getSqlAggregateAlias.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getSqlQuery()">getSqlQuery</a>(array params, bool limitSubquery)</p><p class="description">builds the sql query from the given parameters and applies things such as
column aggregation inheritance and limit subqueries if needed.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#hasSqlAggregateAlias()">hasSqlAggregateAlias</a>(string dqlAlias)</p><p class="description">Check if a dql alias has a sql aggregate alias.</p></td>
</tr>
<tr>
<td class="type"> Doctrine_Query|bool</td>
<td class="description"><p class="name"><a href="#isSubquery()">isSubquery</a>(boolean bool)</p><p class="description">isSubquery
if $bool parameter is set this method sets the value of
Doctrine_Query::$isSubquery. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#load()">load</a>(string path, boolean loadFields)</p><p class="description">.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_table.html">Doctrine_Table</a></td>
<td class="description"><p class="name"><a href="#loadRoot()">loadRoot</a>(string name, string componentAlias)</p><p class="description">loadRoot.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#parseClause()">parseClause</a>(mixed clause)</p><p class="description">parseClause
parses given DQL clause.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#parseDqlQuery()">parseDqlQuery</a>(string query, boolean clear)</p><p class="description">DQL PARSER
parses a DQL query
first splits the query in parts and then uses individual
parsers for each part.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#parseFunctionExpression()">parseFunctionExpression</a>(mixed expr)</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#parseIdentifierReference()">parseIdentifierReference</a>(mixed expr)</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#parseSelect()">parseSelect</a>(string dql)</p><p class="description">parseSelect
parses the query select part and
adds selected fields to pendingFields array.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#parseSelectField()">parseSelectField</a>(string field)</p><p class="description">Parses a nested field

$q->parseSelectField('u.Phonenumber.value');
.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#parseSubquery()">parseSubquery</a>(mixed subquery)</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#processPendingAggregates()">processPendingAggregates</a>()</p><p class="description">processPendingAggregates
processes pending aggregate values for given component alias.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#processPendingFields()">processPendingFields</a>(string componentAlias)</p><p class="description">processPendingFields
the fields in SELECT clause cannot be parsed until the components
in FROM clause are parsed, hence this method is called everytime a
specific component is being parsed. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#processPendingSubqueries()">processPendingSubqueries</a>()</p><p class="description">processPendingSubqueries
processes pending subqueries.</p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#query()">query</a>(string query, array params, int hydrationMode)</p><p class="description">Queries the database with DQL (Doctrine Query Language).
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#reset()">reset</a>()</p><p class="description">Resets the query to the state just after it has been instantiated..</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Doctrine\Doctrine_Query_Abstract</th></tr>
<tr><td><a href="../doctrine/doctrine_query_abstract.html#__toString()">__toString</a>, <a href="../doctrine/doctrine_query_abstract.html#_addDqlQueryPart()">_addDqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#_constructQueryFromCache()">_constructQueryFromCache</a>, <a href="../doctrine/doctrine_query_abstract.html#_execute()">_execute</a>, <a href="../doctrine/doctrine_query_abstract.html#_getDqlCallback()">_getDqlCallback</a>, <a href="../doctrine/doctrine_query_abstract.html#_getDqlCallbackComponents()">_getDqlCallbackComponents</a>, <a href="../doctrine/doctrine_query_abstract.html#_getParser()">_getParser</a>, <a href="../doctrine/doctrine_query_abstract.html#_hasDqlQueryPart()">_hasDqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#_preQuery()">_preQuery</a>, <a href="../doctrine/doctrine_query_abstract.html#_processDqlQueryPart()">_processDqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#_processWhereIn()">_processWhereIn</a>, <a href="../doctrine/doctrine_query_abstract.html#addFrom()">addFrom</a>, <a href="../doctrine/doctrine_query_abstract.html#addGroupBy()">addGroupBy</a>, <a href="../doctrine/doctrine_query_abstract.html#addHaving()">addHaving</a>, <a href="../doctrine/doctrine_query_abstract.html#addOrderBy()">addOrderBy</a>, <a href="../doctrine/doctrine_query_abstract.html#addSelect()">addSelect</a>, <a href="../doctrine/doctrine_query_abstract.html#addSqlQueryPart()">addSqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#addSqlTableAlias()">addSqlTableAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#addWhere()">addWhere</a>, <a href="../doctrine/doctrine_query_abstract.html#andWhere()">andWhere</a>, <a href="../doctrine/doctrine_query_abstract.html#andWhereIn()">andWhereIn</a>, <a href="../doctrine/doctrine_query_abstract.html#andWhereNotIn()">andWhereNotIn</a>, <a href="../doctrine/doctrine_query_abstract.html#calculateQueryCacheHash()">calculateQueryCacheHash</a>, <a href="../doctrine/doctrine_query_abstract.html#calculateResultCacheHash()">calculateResultCacheHash</a>, <a href="../doctrine/doctrine_query_abstract.html#clear()">clear</a>, <a href="../doctrine/doctrine_query_abstract.html#clearResultCache()">clearResultCache</a>, <a href="../doctrine/doctrine_query_abstract.html#copySubqueryInfo()">copySubqueryInfo</a>, <a href="../doctrine/doctrine_query_abstract.html#delete()">delete</a>, <a href="../doctrine/doctrine_query_abstract.html#distinct()">distinct</a>, <a href="../doctrine/doctrine_query_abstract.html#execute()">execute</a>, <a href="../doctrine/doctrine_query_abstract.html#expireQueryCache()">expireQueryCache</a>, <a href="../doctrine/doctrine_query_abstract.html#expireResultCache()">expireResultCache</a>, <a href="../doctrine/doctrine_query_abstract.html#fixArrayParameterValues()">fixArrayParameterValues</a>, <a href="../doctrine/doctrine_query_abstract.html#forUpdate()">forUpdate</a>, <a href="../doctrine/doctrine_query_abstract.html#free()">free</a>, <a href="../doctrine/doctrine_query_abstract.html#from()">from</a>, <a href="../doctrine/doctrine_query_abstract.html#generateNewSqlTableAlias()">generateNewSqlTableAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#generateSqlTableAlias()">generateSqlTableAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#getCachedForm()">getCachedForm</a>, <a href="../doctrine/doctrine_query_abstract.html#getComponentAlias()">getComponentAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#getConnection()">getConnection</a>, <a href="../doctrine/doctrine_query_abstract.html#getCountQueryParams()">getCountQueryParams</a>, <a href="../doctrine/doctrine_query_abstract.html#getDql()">getDql</a>, <a href="../doctrine/doctrine_query_abstract.html#getFlattenedParams()">getFlattenedParams</a>, <a href="../doctrine/doctrine_query_abstract.html#getInheritanceCondition()">getInheritanceCondition</a>, <a href="../doctrine/doctrine_query_abstract.html#getInternalParams()">getInternalParams</a>, <a href="../doctrine/doctrine_query_abstract.html#getParams()">getParams</a>, <a href="../doctrine/doctrine_query_abstract.html#getQueryCacheDriver()">getQueryCacheDriver</a>, <a href="../doctrine/doctrine_query_abstract.html#getQueryCacheLifeSpan()">getQueryCacheLifeSpan</a>, <a href="../doctrine/doctrine_query_abstract.html#getQueryComponent()">getQueryComponent</a>, <a href="../doctrine/doctrine_query_abstract.html#getQueryComponents()">getQueryComponents</a>, <a href="../doctrine/doctrine_query_abstract.html#getResultCacheDriver()">getResultCacheDriver</a>, <a href="../doctrine/doctrine_query_abstract.html#getResultCacheHash()">getResultCacheHash</a>, <a href="../doctrine/doctrine_query_abstract.html#getResultCacheLifeSpan()">getResultCacheLifeSpan</a>, <a href="../doctrine/doctrine_query_abstract.html#getRoot()">getRoot</a>, <a href="../doctrine/doctrine_query_abstract.html#getRootAlias()">getRootAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#getRootDeclaration()">getRootDeclaration</a>, <a href="../doctrine/doctrine_query_abstract.html#getSqlParts()">getSqlParts</a>, <a href="../doctrine/doctrine_query_abstract.html#getSqlQuery()">getSqlQuery</a>, <a href="../doctrine/doctrine_query_abstract.html#getSqlQueryPart()">getSqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#getSqlTableAlias()">getSqlTableAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#getSqlTableAliasSeed()">getSqlTableAliasSeed</a>, <a href="../doctrine/doctrine_query_abstract.html#getTableAliasMap()">getTableAliasMap</a>, <a href="../doctrine/doctrine_query_abstract.html#getType()">getType</a>, <a href="../doctrine/doctrine_query_abstract.html#getView()">getView</a>, <a href="../doctrine/doctrine_query_abstract.html#groupBy()">groupBy</a>, <a href="../doctrine/doctrine_query_abstract.html#hasAliasDeclaration()">hasAliasDeclaration</a>, <a href="../doctrine/doctrine_query_abstract.html#hasSqlTableAlias()">hasSqlTableAlias</a>, <a href="../doctrine/doctrine_query_abstract.html#having()">having</a>, <a href="../doctrine/doctrine_query_abstract.html#innerJoin()">innerJoin</a>, <a href="../doctrine/doctrine_query_abstract.html#isLimitSubqueryUsed()">isLimitSubqueryUsed</a>, <a href="../doctrine/doctrine_query_abstract.html#leftJoin()">leftJoin</a>, <a href="../doctrine/doctrine_query_abstract.html#limit()">limit</a>, <a href="../doctrine/doctrine_query_abstract.html#offset()">offset</a>, <a href="../doctrine/doctrine_query_abstract.html#orWhere()">orWhere</a>, <a href="../doctrine/doctrine_query_abstract.html#orWhereIn()">orWhereIn</a>, <a href="../doctrine/doctrine_query_abstract.html#orWhereNotIn()">orWhereNotIn</a>, <a href="../doctrine/doctrine_query_abstract.html#orderBy()">orderBy</a>, <a href="../doctrine/doctrine_query_abstract.html#parseDqlQuery()">parseDqlQuery</a>, <a href="../doctrine/doctrine_query_abstract.html#preQuery()">preQuery</a>, <a href="../doctrine/doctrine_query_abstract.html#removeDqlQueryPart()">removeDqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#removeSqlQueryPart()">removeSqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#select()">select</a>, <a href="../doctrine/doctrine_query_abstract.html#set()">set</a>, <a href="../doctrine/doctrine_query_abstract.html#setConnection()">setConnection</a>, <a href="../doctrine/doctrine_query_abstract.html#setHydrationMode()">setHydrationMode</a>, <a href="../doctrine/doctrine_query_abstract.html#setOption()">setOption</a>, <a href="../doctrine/doctrine_query_abstract.html#setParams()">setParams</a>, <a href="../doctrine/doctrine_query_abstract.html#setQueryCacheLifeSpan()">setQueryCacheLifeSpan</a>, <a href="../doctrine/doctrine_query_abstract.html#setResultCacheHash()">setResultCacheHash</a>, <a href="../doctrine/doctrine_query_abstract.html#setResultCacheLifeSpan()">setResultCacheLifeSpan</a>, <a href="../doctrine/doctrine_query_abstract.html#setSqlQueryPart()">setSqlQueryPart</a>, <a href="../doctrine/doctrine_query_abstract.html#setView()">setView</a>, <a href="../doctrine/doctrine_query_abstract.html#update()">update</a>, <a href="../doctrine/doctrine_query_abstract.html#useQueryCache()">useQueryCache</a>, <a href="../doctrine/doctrine_query_abstract.html#useResultCache()">useResultCache</a>, <a href="../doctrine/doctrine_query_abstract.html#where()">where</a>, <a href="../doctrine/doctrine_query_abstract.html#whereIn()">whereIn</a>, <a href="../doctrine/doctrine_query_abstract.html#whereNotIn()">whereNotIn</a></td></tr></table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/Query.php at line 124</div>
<h3 id="_aggregateAliasMap">_aggregateAliasMap</h3>
<code class="signature">protected  array $_aggregateAliasMap       an array containing all aggregate aliases, keys as dql aliases and values as sql aliases <strong>$_aggregateAliasMap</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 171</div>
<h3 id="_expressionMap">_expressionMap</h3>
<code class="signature">protected  array <strong>$_expressionMap</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 140</div>
<h3 id="_isSubquery">_isSubquery</h3>
<code class="signature">protected  mixed <strong>$_isSubquery</strong></code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 64</div>
<h3 id="_keywords">_keywords</h3>
<code class="signature">protected static  array  The DQL keywords. <strong>$_keywords</strong> = array(...)</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 145</div>
<h3 id="_neededTables">_neededTables</h3>
<code class="signature">protected  array $_neededTables            an array containing the needed table aliases <strong>$_neededTables</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 134</div>
<h3 id="_needsSubquery">_needsSubquery</h3>
<code class="signature">protected  mixed <strong>$_needsSubquery</strong> = false</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 161</div>
<h3 id="_parsers">_parsers</h3>
<code class="signature">protected  array $_parsers                 an array of parser objects, each DQL query part has its own parser <strong>$_parsers</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 129</div>
<h3 id="_pendingAggregates">_pendingAggregates</h3>
<code class="signature">protected  array <strong>$_pendingAggregates</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 156</div>
<h3 id="_pendingFields">_pendingFields</h3>
<code class="signature">protected  array $_pendingFields           an array of pending fields (fields waiting to be parsed) <strong>$_pendingFields</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 166</div>
<h3 id="_pendingJoinConditions">_pendingJoinConditions</h3>
<code class="signature">protected  array $_pendingJoinConditions    an array containing pending joins <strong>$_pendingJoinConditions</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 151</div>
<h3 id="_pendingSubqueries">_pendingSubqueries</h3>
<code class="signature">protected  array $pendingSubqueries        SELECT part subqueries, these are called pending subqueries since they cannot be parsed directly (some queries might be correlated) <strong>$_pendingSubqueries</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 176</div>
<h3 id="_sql">_sql</h3>
<code class="signature">protected  string $_sql            cached SQL query <strong>$_sql</strong></code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 118</div>
<h3 id="_subqueryAliases">_subqueryAliases</h3>
<code class="signature">protected  array <strong>$_subqueryAliases</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/Query.php at line 2178</div>
<h3 id="__clone()">__clone</h3>
<code class="signature">public  void <strong>__clone</strong>()</code>
<div class="details">
<p>Magic method called after cloning process.</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 1004</div>
<h3 id="_buildSqlFromPart()">_buildSqlFromPart</h3>
<code class="signature">protected  string <strong>_buildSqlFromPart</strong>(mixed ignorePending)</code>
<div class="details">
<p>_buildSqlFromPart
builds the from part of the query and returns it</p><dl>
<dt>Returns:</dt>
<dd>the query sql from part</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 981</div>
<h3 id="_buildSqlQueryBase()">_buildSqlQueryBase</h3>
<code class="signature">protected  string <strong>_buildSqlQueryBase</strong>()</code>
<div class="details">
<p>_buildSqlQueryBase
returns the base of the generated sql query
On mysql driver special strategy has to be used for DELETE statements
(where is this special strategy??)</p><dl>
<dt>Returns:</dt>
<dd>the base of the generated sql query</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1565</div>
<h3 id="_isOrderedByJoinedColumn()">_isOrderedByJoinedColumn</h3>
<code class="signature">private  boolean <strong>_isOrderedByJoinedColumn</strong>()</code>
<div class="details">
<p>Checks whether the query has an ORDER BY on a column of a joined table.
This information is needed in special scenarios like the limit-offset when its
used with an Oracle database.</p><dl>
<dt>Returns:</dt>
<dd>TRUE if the query is ordered by a joined column, FALSE otherwise.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2200</div>
<h3 id="_killReference()">_killReference</h3>
<code class="signature">protected  void <strong>_killReference</strong>(string key)</code>
<div class="details">
<p>Kill the reference for the passed class property.
This method simply copies the value to a temporary variable and then unsets
the reference and re-assigns the old value but not by reference</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 1085</div>
<h3 id="_processPendingJoinConditions()">_processPendingJoinConditions</h3>
<code class="signature">protected  Processed <strong>_processPendingJoinConditions</strong>(string alias)</code>
<div class="details">
<p>Processes the pending join conditions, used for dynamically add conditions
to root component/joined components without interfering in the main dql
handling.</p><dl>
<dt>Parameters:</dt>
<dd>alias - Component Alias</dd>
<dt>Returns:</dt>
<dd>pending conditions</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 249</div>
<h3 id="addPendingJoinCondition()">addPendingJoinCondition</h3>
<code class="signature">public  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>addPendingJoinCondition</strong>(string componentAlias, string joinCondition)</code>
<div class="details">
<p>addPendingJoinCondition</p><dl>
<dt>Parameters:</dt>
<dd>componentAlias - component alias</dd>
<dd>joinCondition - dql join condition</dd>
<dt>Returns:</dt>
<dd>this object</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 367</div>
<h3 id="adjustProcessedParam()">adjustProcessedParam</h3>
<code class="signature">public  void <strong>adjustProcessedParam</strong>(mixed index)</code>
<div class="details">
<p>Adjust the processed param index for "foo.bar IN ?" support</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 1887</div>
<h3 id="buildAssociativeRelationSql()">buildAssociativeRelationSql</h3>
<code class="signature">protected  void <strong>buildAssociativeRelationSql</strong>(mixed relation, mixed assocAlias, mixed foreignAlias, mixed localAlias)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1855</div>
<h3 id="buildIndexBy()">buildIndexBy</h3>
<code class="signature">protected  void <strong>buildIndexBy</strong>(mixed componentAlias, mixed mapWith)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1963</div>
<h3 id="buildInheritanceJoinSql()">buildInheritanceJoinSql</h3>
<code class="signature">public  string <strong>buildInheritanceJoinSql</strong>(string name, string componentAlias)</code>
<div class="details">
<p></p><dl>
<dt>Todo:</dt>
<dd>DESCRIBE ME!</dd>
<dt>Parameters:</dt>
<dd>name - component class name</dd>
<dd>componentAlias - alias of the component in the dql</dd>
<dt>Returns:</dt>
<dd>query part</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1839</div>
<h3 id="buildSimpleRelationSql()">buildSimpleRelationSql</h3>
<code class="signature">protected  void <strong>buildSimpleRelationSql</strong>(mixed relation, mixed foreignAlias, mixed localAlias, mixed overrideJoin, mixed join)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1135</div>
<h3 id="buildSqlQuery()">buildSqlQuery</h3>
<code class="signature">public  string <strong>buildSqlQuery</strong>(bool limitSubquery)</code>
<div class="details">
<p>Build the SQL query from the DQL</p><dl>
<dt>Parameters:</dt>
<dd>limitSubquery - Whether or not to try and apply the limit subquery algorithm</dd>
<dt>Returns:</dt>
<dd>$sql The generated SQL string</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 198</div>
<h3 id="clear()">clear</h3>
<code class="signature">protected  void <strong>clear</strong>()</code>
<div class="details">
<p>Clears all the sql parts.</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 422</div>
<h3 id="contains()">contains</h3>
<code class="signature">public  boolean <strong>contains</strong>(string dql)</code>
<div class="details">
<p>contains</p><p>Method to check if a arbitrary piece of dql exists</p><dl>
<dt>Parameters:</dt>
<dd>dql - Arbitrary piece of dql to check for</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2162</div>
<h3 id="copy()">copy</h3>
<code class="signature">public  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>copy</strong>(mixed query)</code>
<div class="details">
<p>Copies a Doctrine_Query object.</p><dl>
<dt>Returns:</dt>
<dd>Copy of the Doctrine_Query instance.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2103</div>
<h3 id="count()">count</h3>
<code class="signature">public  integer <strong>count</strong>(array params)</code>
<div class="details">
<p>Fetches the count of the query.</p><p>This method executes the main query without all the
selected fields, ORDER BY part, LIMIT part and OFFSET part.</p><p>Example:
Main query:
SELECT u.*, p.phonenumber FROM User u
LEFT JOIN u.Phonenumber p
WHERE p.phonenumber = '123 123' LIMIT 10</p><p>The modified DQL query:
SELECT COUNT(DISTINCT u.id) FROM User u
LEFT JOIN u.Phonenumber p
WHERE p.phonenumber = '123 123'</p><dl>
<dt>Parameters:</dt>
<dd>params - an array of prepared statement parameters</dd>
<dt>Returns:</dt>
<dd>the count of this query</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 186</div>
<h3 id="create()">create</h3>
<code class="signature">public static  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>create</strong>(<a href="../doctrine/doctrine_connection.html">Doctrine_Connection</a> conn, string class)</code>
<div class="details">
<p>create
returns a new Doctrine_Query object</p><dl>
<dt>Parameters:</dt>
<dd>conn - optional connection parameter</dd>
<dd>class - Query class to instantiate</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 228</div>
<h3 id="createSubquery()">createSubquery</h3>
<code class="signature">public  Doctrine_Hydrate <strong>createSubquery</strong>()</code>
<div class="details">
<p>createSubquery
creates a subquery</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 265</div>
<h3 id="fetchArray()">fetchArray</h3>
<code class="signature">public  array <strong>fetchArray</strong>(string params)</code>
<div class="details">
<p>fetchArray
Convenience method to execute using array fetching as hydration mode.</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 279</div>
<h3 id="fetchOne()">fetchOne</h3>
<code class="signature">public  mixed <strong>fetchOne</strong>(string params, int hydrationMode)</code>
<div class="details">
<p>fetchOne
Convenience method to execute the query and return the first item
of the collection.</p><dl>
<dt>Parameters:</dt>
<dd>params - Query parameters</dd>
<dd>hydrationMode - Hydration mode: see Doctrine_Core::HYDRATE_* constants</dd>
<dt>Returns:</dt>
<dd>Array or Doctrine_Collection, depending on hydration mode. False if no result.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2216</div>
<h3 id="free()">free</h3>
<code class="signature">public  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>free</strong>()</code>
<div class="details">
<p>Frees the resources used by the query object. It especially breaks a
cyclic reference between the query object and it's parsers. This enables
PHP's current GC to reclaim the memory.
This method can therefore be used to reduce memory usage when creating
a lot of query objects during a request.</p><dl>
<dt>Returns:</dt>
<dd>this object</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2012</div>
<h3 id="getCountSqlQuery()">getCountSqlQuery</h3>
<code class="signature">public  string <strong>getCountSqlQuery</strong>()</code>
<div class="details">
<p>Get count sql query for this Doctrine_Query instance.</p><p>This method is used in Doctrine_Query::count() for returning an integer
for the number of records which will be returned when executed.</p><dl>
<dt>Returns:</dt>
<dd>$q</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 405</div>
<h3 id="getDqlPart()">getDqlPart</h3>
<code class="signature">public  array <strong>getDqlPart</strong>(string queryPart)</code>
<div class="details">
<p>Retrieves a specific DQL query part.</p>
Strict Standards: Only variables should be assigned by reference in /Users/jwage/Sites/doctrine_website/lib/vendor/phpdoctor/classes/seeTag.php on line 141
<dl>
<dt>See Also:</dt>
<dd><a href="../doctrine/doctrine_query_abstract.html#_dqlParts"><code> var_dump($q->getDqlPart('where')); // array(2) { [0] => string(8) 'name = ?' [1] => string(8) 'date > ?' } </code></a></dd>
<dt>Parameters:</dt>
<dd>queryPart - the name of the query part; can be: array from, containing strings; array select, containg string; boolean forUpdate; array set; array join; array where; array groupby; array having; array orderby, containing strings such as 'id ASC'; array limit, containing numerics; array offset, containing numerics;</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 570</div>
<h3 id="getExpressionOwner()">getExpressionOwner</h3>
<code class="signature">public  string <strong>getExpressionOwner</strong>(string expr)</code>
<div class="details">
<p>getExpressionOwner
returns the component alias for owner of given expression</p><dl>
<dt>Parameters:</dt>
<dd>expr - expression from which to get to owner from</dd>
<dt>Returns:</dt>
<dd>the component alias</dd>
<dt>Todo:</dt>
<dd>Description: What does it mean if a component is an 'owner' of an expression? What kind of 'expression' are we talking about here?</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1372</div>
<h3 id="getLimitSubquery()">getLimitSubquery</h3>
<code class="signature">public  string <strong>getLimitSubquery</strong>()</code>
<div class="details">
<p>getLimitSubquery
this is method is used by the record limit algorithm</p><p>when fetching one-to-many, many-to-many associated data with LIMIT clause
an additional subquery is needed for limiting the number of returned records instead
of limiting the number of sql result set rows</p><dl>
<dt>Returns:</dt>
<dd>the limit subquery</dd>
<dt>Todo:</dt>
<dd>A little refactor to make the method easier to understand & maybe shorter?</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 329</div>
<h3 id="getSqlAggregateAlias()">getSqlAggregateAlias</h3>
<code class="signature">public  string <strong>getSqlAggregateAlias</strong>(string dqlAlias)</code>
<div class="details">
<p>getSqlAggregateAlias</p><dl>
<dt>Parameters:</dt>
<dd>dqlAlias - the dql alias of an aggregate value</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1112</div>
<h3 id="getSqlQuery()">getSqlQuery</h3>
<code class="signature">public  string <strong>getSqlQuery</strong>(array params, bool limitSubquery)</code>
<div class="details">
<p>builds the sql query from the given parameters and applies things such as
column aggregation inheritance and limit subqueries if needed</p><dl>
<dt>Parameters:</dt>
<dd>params - an array of prepared statement params (needed only in mysql driver when limit subquery algorithm is used)</dd>
<dd>limitSubquery - Whether or not to try and apply the limit subquery algorithm</dd>
<dt>Returns:</dt>
<dd>the built sql query</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 353</div>
<h3 id="hasSqlAggregateAlias()">hasSqlAggregateAlias</h3>
<code class="signature">public  boolean <strong>hasSqlAggregateAlias</strong>(string dqlAlias)</code>
<div class="details">
<p>Check if a dql alias has a sql aggregate alias</p></div>

<hr>

<div class="location">/Doctrine/Query.php at line 313</div>
<h3 id="isSubquery()">isSubquery</h3>
<code class="signature">public  Doctrine_Query|bool <strong>isSubquery</strong>(boolean bool)</code>
<div class="details">
<p>isSubquery
if $bool parameter is set this method sets the value of
Doctrine_Query::$isSubquery. If this value is set to true
the query object will not load the primary key fields of the selected
components.</p><p>If null is given as the first parameter this method retrieves the current
value of Doctrine_Query::$isSubquery.</p><dl>
<dt>Parameters:</dt>
<dd>bool - whether or not this query acts as a subquery</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1656</div>
<h3 id="load()">load</h3>
<code class="signature">public  void <strong>load</strong>(string path, boolean loadFields)</code>
<div class="details">
<p></p><dl>
<dt>Todo:</dt>
<dd>Describe & refactor... too long and nested.</dd>
<dt>Parameters:</dt>
<dd>path - component alias</dd>
<dd></dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1926</div>
<h3 id="loadRoot()">loadRoot</h3>
<code class="signature">public  <a href="../doctrine/doctrine_table.html">Doctrine_Table</a> <strong>loadRoot</strong>(string name, string componentAlias)</code>
<div class="details">
<p>loadRoot</p><dl>
<dt>Todo:</dt>
<dd>DESCRIBE ME!</dd>
<dd>this method is called only in Doctrine_Query class. Shouldn't be private or protected?</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 680</div>
<h3 id="parseClause()">parseClause</h3>
<code class="signature">public  string <strong>parseClause</strong>(mixed clause)</code>
<div class="details">
<p>parseClause
parses given DQL clause</p><p>this method handles five tasks:</p><p>1. Converts all DQL functions to their native SQL equivalents
2. Converts all component references to their table alias equivalents
3. Converts all field names to actual column names
4. Quotes all identifiers
5. Parses nested clauses and subqueries recursively</p><dl>
<dt>Returns:</dt>
<dd>SQL string</dd>
<dt>Todo:</dt>
<dd>Description: What is a 'dql clause' (and what not)? Refactor: Too long & nesting level</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 1598</div>
<h3 id="parseDqlQuery()">parseDqlQuery</h3>
<code class="signature">public  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>parseDqlQuery</strong>(string query, boolean clear)</code>
<div class="details">
<p>DQL PARSER
parses a DQL query
first splits the query in parts and then uses individual
parsers for each part</p><dl>
<dt>Parameters:</dt>
<dd>query - DQL query</dd>
<dd>clear - whether or not to clear the aliases</dd>
<dt>Throws:</dt>
<dd>if some generic parsing error occurs</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 807</div>
<h3 id="parseFunctionExpression()">parseFunctionExpression</h3>
<code class="signature">public  void <strong>parseFunctionExpression</strong>(mixed expr)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 802</div>
<h3 id="parseIdentifierReference()">parseIdentifierReference</h3>
<code class="signature">public  void <strong>parseIdentifierReference</strong>(mixed expr)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 595</div>
<h3 id="parseSelect()">parseSelect</h3>
<code class="signature">public  void <strong>parseSelect</strong>(string dql)</code>
<div class="details">
<p>parseSelect
parses the query select part and
adds selected fields to pendingFields array</p><dl>
<dt>Todo:</dt>
<dd>Description: What information is extracted (and then stored)?</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 524</div>
<h3 id="parseSelectField()">parseSelectField</h3>
<code class="signature">public  string <strong>parseSelectField</strong>(string field)</code>
<div class="details">
<p>Parses a nested field
<code>
$q->parseSelectField('u.Phonenumber.value');
</code></p><dl>
<dt>Throws:</dt>
<dd>if unknown component alias has been given</dd>
<dt>Returns:</dt>
<dd>SQL fragment</dd>
<dt>Todo:</dt>
<dd>Description: Explain what this method does. Is there a relation to parseSelect()? This method is not used from any class or testcase in the Doctrine package. /</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 835</div>
<h3 id="parseSubquery()">parseSubquery</h3>
<code class="signature">public  void <strong>parseSubquery</strong>(mixed subquery)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 906</div>
<h3 id="processPendingAggregates()">processPendingAggregates</h3>
<code class="signature">public  void <strong>processPendingAggregates</strong>()</code>
<div class="details">
<p>processPendingAggregates
processes pending aggregate values for given component alias</p><dl>
<dt>Todo:</dt>
<dd>Better description. i.e. What is a 'pending aggregate'? What does 'processed' mean?</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 440</div>
<h3 id="processPendingFields()">processPendingFields</h3>
<code class="signature">public  string <strong>processPendingFields</strong>(string componentAlias)</code>
<div class="details">
<p>processPendingFields
the fields in SELECT clause cannot be parsed until the components
in FROM clause are parsed, hence this method is called everytime a
specific component is being parsed. For instance, the wildcard '*'
is expanded in the list of columns.</p><dl>
<dt>Throws:</dt>
<dd>if unknown component alias has been given</dd>
<dt>Parameters:</dt>
<dd>componentAlias - the alias of the component</dd>
<dt>Returns:</dt>
<dd>SQL code</dd>
<dt>Todo:</dt>
<dd>Description: What is a 'pending field' (and are there non-pending fields, too)? What is 'processed'? (Meaning: What information is gathered & stored away)</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 875</div>
<h3 id="processPendingSubqueries()">processPendingSubqueries</h3>
<code class="signature">public  void <strong>processPendingSubqueries</strong>()</code>
<div class="details">
<p>processPendingSubqueries
processes pending subqueries</p><p>subqueries can only be processed when the query is fully constructed
since some subqueries may be correlated</p><dl>
<dt>Todo:</dt>
<dd>Better description. i.e. What is a 'pending subquery'? What does 'processed' mean? (parsed? sql is constructed? some information is gathered?)</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 2151</div>
<h3 id="query()">query</h3>
<code class="signature">public  mixed <strong>query</strong>(string query, array params, int hydrationMode)</code>
<div class="details">
<p>Queries the database with DQL (Doctrine Query Language).</p><p>This methods parses a Dql query and builds the query parts.</p><dl>
<dt>Parameters:</dt>
<dd>query - Dql query</dd>
<dd>params - prepared statement parameters</dd>
<dd>hydrationMode - Doctrine_Core::HYDRATE_ARRAY or Doctrine_Core::HYDRATE_RECORD</dd>
<dt>See Also:</dt>
<dd>constants</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Query.php at line 208</div>
<h3 id="reset()">reset</h3>
<code class="signature">public  void <strong>reset</strong>()</code>
<div class="details">
<p>Resets the query to the state just after it has been instantiated.</p></div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_query.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>