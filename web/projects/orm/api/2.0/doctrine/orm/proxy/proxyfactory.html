<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 13:13:21 -0400">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<title>ProxyFactory (Doctrine 2.0 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../doctrine/orm/proxy/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../doctrine/orm/proxy/package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../doctrine/orm/proxy/proxyfactory.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\ORM\Proxy\ProxyFactory</div>
<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 35</div>

<h1>Class ProxyFactory</h1>

<pre class="tree"><strong>ProxyFactory</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>ProxyFactory</strong></p>

<div class="comment" id="overview_description"><p>This factory is used to create proxy objects for entities at runtime.</p></div>

<dl>
<dt>Author:</dt>
<dd>Roman Borschel <roman@code-factory.org></dd>
<dd>Giorgio Sironi <piccoloprincipeazzurro@gmail.com></dd>
<dt>Since:</dt>
<dd>2.0</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#_autoGenerate">$_autoGenerate</a></p><p class="description">Whether to automatically (re)generate proxy classes..</p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#_em">$_em</a></p><p class="description">The EntityManager this factory is bound to..</p></td>
</tr>
<tr>
<td class="type">private static  mixed</td>
<td class="description"><p class="name"><a href="#_proxyClassTemplate">$_proxyClassTemplate</a></p><p class="description">Reference Proxy class code template.</p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#_proxyDir">$_proxyDir</a></p><p class="description">The directory that contains all proxy classes..</p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#_proxyNamespace">$_proxyNamespace</a></p><p class="description">The namespace that contains all proxy classes..</p></td>
</tr>
</table>

<table id="summary_constr">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="description"><p class="name"><a href="#ProxyFactory()">ProxyFactory</a>(<a href="../../../doctrine/orm/entitymanager.html">EntityManager</a> em, string proxyDir, string proxyNs, boolean autoGenerate)</p><p class="description">Initializes a new instance of the ProxyFactory class that is
connected to the given EntityManager..</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type">private  string</td>
<td class="description"><p class="name"><a href="#_generateMethods()">_generateMethods</a>(<a href="../../../doctrine/orm/mapping/classmetadata.html">ClassMetadata</a> class)</p><p class="description">Generates the methods of a proxy class..</p></td>
</tr>
<tr>
<td class="type">private  void</td>
<td class="description"><p class="name"><a href="#_generateProxyClass()">_generateProxyClass</a>(mixed class, mixed proxyClassName, mixed fileName, mixed file, $proxyClassName , $file The)</p><p class="description">Generates a proxy class file..</p></td>
</tr>
<tr>
<td class="type">private  string</td>
<td class="description"><p class="name"><a href="#_generateSleep()">_generateSleep</a>(mixed class, $class )</p><p class="description">Generates the code for the __sleep method for a proxy class..</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#generateProxyClasses()">generateProxyClasses</a>(array classes, string toDir)</p><p class="description">Generates proxy classes for all given classes..</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#getProxy()">getProxy</a>(string className, mixed identifier)</p><p class="description">Gets a reference proxy instance for the entity of the given type and identified by
the given identifier..</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 40</div>
<h3 id="_autoGenerate">_autoGenerate</h3>
<code class="signature">private  mixed <strong>$_autoGenerate</strong></code>
<div class="details">
<p>Whether to automatically (re)generate proxy classes.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 38</div>
<h3 id="_em">_em</h3>
<code class="signature">private  mixed <strong>$_em</strong></code>
<div class="details">
<p>The EntityManager this factory is bound to.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 244</div>
<h3 id="_proxyClassTemplate">_proxyClassTemplate</h3>
<code class="signature">private static  mixed <strong>$_proxyClassTemplate</strong> = '<?php

namespace <namespace>;

/**
 * THIS CLASS WAS GENERATED BY THE DOCTRINE ORM. DO NOT EDIT THIS FILE.
 */
class <proxyClassName> extends \<className> implements \Doctrine\ORM\Proxy\Proxy
{
    private $_entityPersister;
    private $_identifier;
    public $__isInitialized__ = false;
    public function __construct($entityPersister, $identifier)
    {
        $this->_entityPersister = $entityPersister;
        $this->_identifier = $identifier;
    }
    private function _load()
    {
        if (!$this->__isInitialized__ && $this->_entityPersister) {
            $this->__isInitialized__ = true;
            if ($this->_entityPersister->load($this->_identifier, $this) === null) {
                throw new \Doctrine\ORM\EntityNotFoundException();
            }
            unset($this->_entityPersister);
            unset($this->_identifier);
        }
    }

    <methods>

    public function __sleep()
    {
        if (!$this->__isInitialized__) {
            throw new \RuntimeException("Not fully loaded proxy can not be serialized.");
        }
        <sleepImpl>
    }
}'</code>
<div class="details">
<p>Reference Proxy class code template</p></div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 44</div>
<h3 id="_proxyDir">_proxyDir</h3>
<code class="signature">private  mixed <strong>$_proxyDir</strong></code>
<div class="details">
<p>The directory that contains all proxy classes.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 42</div>
<h3 id="_proxyNamespace">_proxyNamespace</h3>
<code class="signature">private  mixed <strong>$_proxyNamespace</strong></code>
<div class="details">
<p>The namespace that contains all proxy classes.</p></div>

<hr>

<h2 id="detail_constr">Constructor Detail</h2>
<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 55</div>
<h3 id="ProxyFactory()">ProxyFactory</h3>
<code class="signature">public <strong>ProxyFactory</strong>(<a href="../../../doctrine/orm/entitymanager.html">EntityManager</a> em, string proxyDir, string proxyNs, boolean autoGenerate)</code>
<div class="details">
<p>Initializes a new instance of the <tt>ProxyFactory</tt> class that is
connected to the given <tt>EntityManager</tt>.</p><dl>
<dt>Parameters:</dt>
<dd>em - The EntityManager the new factory works for.</dd>
<dd>proxyDir - The directory to use for the proxy classes. It must exist.</dd>
<dd>proxyNs - The namespace to use for the proxy classes.</dd>
<dd>autoGenerate - Whether to automatically generate proxy classes.</dd>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 158</div>
<h3 id="_generateMethods()">_generateMethods</h3>
<code class="signature">private  string <strong>_generateMethods</strong>(<a href="../../../doctrine/orm/mapping/classmetadata.html">ClassMetadata</a> class)</code>
<div class="details">
<p>Generates the methods of a proxy class.</p><dl>
<dt>Returns:</dt>
<dd>The code of the generated methods.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 124</div>
<h3 id="_generateProxyClass()">_generateProxyClass</h3>
<code class="signature">private  void <strong>_generateProxyClass</strong>(mixed class, mixed proxyClassName, mixed fileName, mixed file, $proxyClassName , $file The)</code>
<div class="details">
<p>Generates a proxy class file.</p><dl>
<dt>Parameters:</dt>
<dd></dd>
<dd></dd>
<dd></dd>
<dd>The - path of the file to write to.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 217</div>
<h3 id="_generateSleep()">_generateSleep</h3>
<code class="signature">private  string <strong>_generateSleep</strong>(mixed class, $class )</code>
<div class="details">
<p>Generates the code for the __sleep method for a proxy class.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 105</div>
<h3 id="generateProxyClasses()">generateProxyClasses</h3>
<code class="signature">public  void <strong>generateProxyClasses</strong>(array classes, string toDir)</code>
<div class="details">
<p>Generates proxy classes for all given classes.</p><dl>
<dt>Parameters:</dt>
<dd>classes - The classes (ClassMetadata instances) for which to generate proxies.</dd>
<dd>toDir - The target directory of the proxy classes. If not specified, the directory configured on the Configuration of the EntityManager used by this factory is used.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Proxy/ProxyFactory.php at line 77</div>
<h3 id="getProxy()">getProxy</h3>
<code class="signature">public  object <strong>getProxy</strong>(string className, mixed identifier)</code>
<div class="details">
<p>Gets a reference proxy instance for the entity of the given type and identified by
the given identifier.</p></div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../doctrine/orm/proxy/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../doctrine/orm/proxy/package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../doctrine/orm/proxy/proxyfactory.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>