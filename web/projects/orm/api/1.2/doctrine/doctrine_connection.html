<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 11:50:25 -0400">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Doctrine_Connection (Doctrine 1.2 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_connection.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\Doctrine_Connection</div>
<div class="location">/Doctrine/Connection.php at line 56</div>

<h1>Class Doctrine_Connection</h1>

<pre class="tree">Class:Doctrine_Connection - Superclass: Doctrine_Configurable
Class:Doctrine_Configurable - Superclass: Doctrine_Locator_Injectable
<a href="../doctrine/doctrine_locator_injectable.html">Doctrine_Locator_Injectable</a><br>   &lfloor;&nbsp;<a href="../doctrine/doctrine_configurable.html">Doctrine_Configurable</a><br>      &lfloor;&nbsp;<strong>Doctrine_Connection</strong><br /></pre>

<hr>

<p class="signature">public abstract  class <strong>Doctrine_Connection</strong><br>extends <a href="../doctrine/doctrine_configurable.html">Doctrine_Configurable</a>

</p>

<div class="comment" id="overview_description"><p>Doctrine_Connection</p><p>A wrapper layer on top of PDO / Doctrine_Adapter</p><p>Doctrine_Connection is the heart of any Doctrine based application.</p><p>1. Event listeners
An easy to use, pluggable eventlistener architecture. Aspects such as
logging, query profiling and caching can be easily implemented through
the use of these listeners</p><p>2. Lazy-connecting
Creating an instance of Doctrine_Connection does not connect
to database. Connecting to database is only invoked when actually needed
(for example when query() is being called)</p><p>3. Convenience methods
Doctrine_Connection provides many convenience methods such as fetchAll(), fetchOne() etc.</p><p>4. Modular structure
Higher level functionality such as schema importing, exporting, sequence handling etc.
is divided into modules. For a full list of connection modules see
Doctrine_Connection::$_modules</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>Connection</dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>See Also:</dt>
<dd><code>www.doctrine-project.org</code></dd>
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>$Revision: 7490 $</dd>
<dt>Author:</dt>
<dd>Konsta Vesterinen <kvesteri@cc.hut.fi></dd>
<dd>Lukas Smith <smith@pooteeweet.org> (MDB2 library)</dd>
<dt>Category:</dt>
<dd>Locator</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#_count">$_count</a></p></td>
</tr>
<tr>
<td class="type">protected  string $_name</td>
<td class="description"><p class="name"><a href="#_name">$_name</a></p><p class="description">$_name.</p></td>
</tr>
<tr>
<td class="type">protected  array $_userFkNames                 array of foreign key names that have been used</td>
<td class="description"><p class="name"><a href="#_usedNames">$_usedNames</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  $dbh                                the database handler</td>
<td class="description"><p class="name"><a href="#dbh">$dbh</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  string $driverName</td>
<td class="description"><p class="name"><a href="#driverName">$driverName</a></p><p class="description">The name of this connection driver..</p></td>
</tr>
<tr>
<td class="type">protected  boolean $isConnected                whether or not a connection has been established</td>
<td class="description"><p class="name"><a href="#isConnected">$isConnected</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">private  array $modules                      an array containing all modules transaction                 Doctrine_Transaction driver, handles savepoint and transaction isolation abstraction expression                  Doctrine_Expression_Driver, handles expression abstraction dataDict                    Doctrine_DataDict driver, handles datatype abstraction export                      Doctrine_Export driver, handles db structure modification abstraction (contains methods such as alterTable, createConstraint etc.) import                      Doctrine_Import driver, handles db schema reading sequence                    Doctrine_Sequence driver, handles sequential id generation and retrieval unitOfWork                  Doctrine_Connection_UnitOfWork handles many orm functionalities such as object deletion and saving formatter                   Doctrine_Formatter handles data formatting, quoting and escaping</td>
<td class="description"><p class="name"><a href="#modules">$modules</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#options">$options</a></p></td>
</tr>
<tr>
<td class="type">protected  array $pendingAttributes            An array of pending attributes. When setting attributes no connection is needed. When connected all the pending attributes are passed to the underlying adapter (usually PDO) instance.</td>
<td class="description"><p class="name"><a href="#pendingAttributes">$pendingAttributes</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $properties               an array of connection properties</td>
<td class="description"><p class="name"><a href="#properties">$properties</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $serverInfo</td>
<td class="description"><p class="name"><a href="#serverInfo">$serverInfo</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $supported                    an array containing all features this driver supports, keys representing feature names and values as one of the following (true, false, 'emulated')</td>
<td class="description"><p class="name"><a href="#supported">$supported</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">private static  array $supportedDrivers         an array containing all supported drivers</td>
<td class="description"><p class="name"><a href="#supportedDrivers">$supportedDrivers</a></p><p class="description">.</p></td>
</tr>
<tr>
<td class="type">protected  array $tables                       an array containing all the initialized Doctrine_Table objects keys representing Doctrine_Table component names and values as Doctrine_Table objects</td>
<td class="description"><p class="name"><a href="#tables">$tables</a></p><p class="description">.</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Fields inherited from Doctrine\Doctrine_Configurable</th></tr>
<tr><td><a href="../doctrine/doctrine_configurable.html#_impl">_impl</a>, <a href="../doctrine/doctrine_configurable.html#_params">_params</a>, <a href="../doctrine/doctrine_configurable.html#attributes">attributes</a>, <a href="../doctrine/doctrine_configurable.html#parent">parent</a></td></tr></table>

<table class="inherit">
<tr><th colspan="2">Fields inherited from Doctrine\Doctrine_Locator_Injectable</th></tr>
<tr><td><a href="../doctrine/doctrine_locator_injectable.html#_locator">_locator</a>, <a href="../doctrine/doctrine_locator_injectable.html#_null">_null</a>, <a href="../doctrine/doctrine_locator_injectable.html#_resources">_resources</a></td></tr></table>

<table id="summary_constr">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="description"><p class="name"><a href="#Doctrine_Connection()">Doctrine_Connection</a>(<a href="../doctrine/doctrine_manager.html">Doctrine_Manager</a> manager, PDO|Doctrine_Adapter_Interface adapter, mixed user, mixed pass)</p><p class="description">the constructor.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_connection_module.html">Doctrine_Connection_Module</a></td>
<td class="description"><p class="name"><a href="#__get()">__get</a>(string name)</p><p class="description">__get
lazy loads given module and returns it.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#__toString()">__toString</a>()</p><p class="description">returns a string representation of this object.</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#_generateUniqueName()">_generateUniqueName</a>(mixed type, mixed parts, mixed key, mixed format, mixed maxLength)</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#addTable()">addTable</a>(mixed table, $table a)</p><p class="description">addTable
adds a Doctrine_Table object into connection registry.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#beginInternalTransaction()">beginInternalTransaction</a>(mixed savepoint)</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#beginTransaction()">beginTransaction</a>(string savepoint)</p><p class="description">beginTransaction
Start a transaction or set a savepoint.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#clear()">clear</a>()</p><p class="description">clear
clears all repositories.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#close()">close</a>()</p><p class="description">close
closes the connection.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#commit()">commit</a>(string savepoint)</p><p class="description">commit
Commit the database changes done during a transaction that is in
progress or release a savepoint. </p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#connect()">connect</a>()</p><p class="description">connect
connects into database.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#convertBooleans()">convertBooleans</a>(array item)</p><p class="description">convertBooleans
some drivers need the boolean values to be converted into integers
when using DQL API.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#count()">count</a>()</p><p class="description">returns the count of initialized table objects.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_record.html">Doctrine_Record</a></td>
<td class="description"><p class="name"><a href="#create()">create</a>(string name)</p><p class="description">create
creates a record.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#createDatabase()">createDatabase</a>()</p><p class="description">createDatabase.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_query.html">Doctrine_Query</a></td>
<td class="description"><p class="name"><a href="#createQuery()">createQuery</a>()</p><p class="description">Creates a new Doctrine_Query object that operates on this connection..</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#delete()">delete</a>(string table, array identifier)</p><p class="description">deletes table row(s) matching the specified identifier.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#driverName()">driverName</a>(mixed name)</p><p class="description">converts given driver name.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#dropDatabase()">dropDatabase</a>()</p><p class="description">dropDatabase.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#errorCode()">errorCode</a>()</p><p class="description">errorCode
Fetch the SQLSTATE associated with the last operation on the database handle.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#errorInfo()">errorInfo</a>()</p><p class="description">errorInfo
Fetch extended error information associated with the last operation on the database handle.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#evictTables()">evictTables</a>()</p><p class="description">evictTables
evicts all tables.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#exec()">exec</a>(string query, array params)</p><p class="description">exec.</p></td>
</tr>
<tr>
<td class="type"> PDOStatement|Doctrine_Adapter_Statement</td>
<td class="description"><p class="name"><a href="#execute()">execute</a>(string query, array params)</p><p class="description">execute.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchAll()">fetchAll</a>(string statement, array params)</p><p class="description">fetchAll.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchArray()">fetchArray</a>(string statement, array params)</p><p class="description">fetchArray.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchAssoc()">fetchAssoc</a>(string statement, array params)</p><p class="description">fetchAssoc.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchBoth()">fetchBoth</a>(string statement, array params)</p><p class="description">fetchBoth.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchColumn()">fetchColumn</a>(string statement, array params, int colnum)</p><p class="description">fetchColumn.</p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#fetchOne()">fetchOne</a>(string statement, array params, int colnum)</p><p class="description">fetchOne.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchRow()">fetchRow</a>(string statement, array params)</p><p class="description">fetchRow.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#flush()">flush</a>()</p><p class="description">flush
saves all the records from all tables
this operation is isolated using a transaction.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#generateUniqueIndexName()">generateUniqueIndexName</a>(string tableName, string fields)</p><p class="description">Get/generate unique index name for a table name and set of fields.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#generateUniqueRelationForeignKeyName()">generateUniqueRelationForeignKeyName</a>(<a href="../doctrine/doctrine_relation.html">Doctrine_Relation</a> relation)</p><p class="description">Get/generate a unique foreign key name for a relationship.</p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#getAttribute()">getAttribute</a>(integer attribute)</p><p class="description">getAttribute
retrieves a database connection attribute.</p></td>
</tr>
<tr>
<td class="type">static  void</td>
<td class="description"><p class="name"><a href="#getAvailableDrivers()">getAvailableDrivers</a>()</p><p class="description">returns an array of available PDO drivers.</p></td>
</tr>
<tr>
<td class="type"> PDO</td>
<td class="description"><p class="name"><a href="#getDbh()">getDbh</a>()</p><p class="description">returns the database handler of which this connection uses.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getDriverName()">getDriverName</a>()</p><p class="description">getDriverName.</p></td>
</tr>
<tr>
<td class="type"> ArrayIterator</td>
<td class="description"><p class="name"><a href="#getIterator()">getIterator</a>()</p><p class="description">returns an iterator that iterators through all
initialized table objects.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_manager.html">Doctrine_Manager</a></td>
<td class="description"><p class="name"><a href="#getManager()">getManager</a>()</p><p class="description">returns the manager that created this connection.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getName()">getName</a>()</p><p class="description">getName
returns the name of this driver.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getOption()">getOption</a>(string option)</p><p class="description">getOption.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getOptions()">getOptions</a>()</p><p class="description">getOptions.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_cache_interface.html">Doctrine_Cache_Interface</a></td>
<td class="description"><p class="name"><a href="#getQueryCacheDriver()">getQueryCacheDriver</a>()</p><p class="description">getQueryCacheDriver.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_cache_interface.html">Doctrine_Cache_Interface</a></td>
<td class="description"><p class="name"><a href="#getResultCacheDriver()">getResultCacheDriver</a>()</p><p class="description">getResultCacheDriver.</p></td>
</tr>
<tr>
<td class="type">static  array</td>
<td class="description"><p class="name"><a href="#getSupportedDrivers()">getSupportedDrivers</a>()</p><p class="description">Returns an array of supported drivers by Doctrine.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_table.html">Doctrine_Table</a></td>
<td class="description"><p class="name"><a href="#getTable()">getTable</a>(string name)</p><p class="description">returns a table object for given component name.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getTables()">getTables</a>()</p><p class="description">returns an array of all initialized tables.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getTmpConnection()">getTmpConnection</a>(string info)</p><p class="description">getTmpConnection.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#getTransactionLevel()">getTransactionLevel</a>()</p><p class="description">get the current transaction nesting level.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#hasTable()">hasTable</a>(mixed name)</p><p class="description">hasTable
whether or not this connection has table $name initialized.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#incrementQueryCount()">incrementQueryCount</a>()</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#insert()">insert</a>(<a href="../doctrine/doctrine_table.html">Doctrine_Table</a> table, mixed fields, array values)</p><p class="description">Inserts a table row with specified data..</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isConnected()">isConnected</a>()</p><p class="description">Check wherther the connection to the database has been made yet.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#lastInsertId()">lastInsertId</a>(string table, string field)</p><p class="description">lastInsertId.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#modifyLimitQuery()">modifyLimitQuery</a>(mixed query, mixed limit, mixed offset, mixed isManip)</p><p class="description">modifyLimitQuery.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#modifyLimitSubquery()">modifyLimitSubquery</a>(mixed rootTable, mixed query, mixed limit, mixed offset, mixed isManip)</p><p class="description">Creates dbms specific LIMIT/OFFSET SQL for the subqueries that are used in the
context of the limit-subquery algorithm..</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#prepare()">prepare</a>(string statement)</p><p class="description">prepare.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_collection.html">Doctrine_Collection</a></td>
<td class="description"><p class="name"><a href="#query()">query</a>(string query, array params, int hydrationMode)</p><p class="description">query
queries the database using Doctrine Query Language
returns a collection of Doctrine_Record objects.</p></td>
</tr>
<tr>
<td class="type"> Doctrine_Record|false</td>
<td class="description"><p class="name"><a href="#queryOne()">queryOne</a>(string query, array params)</p><p class="description">query
queries the database using Doctrine Query Language and returns
the first record found.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#quote()">quote</a>(mixed input, string type)</p><p class="description">quote
quotes given input parameter.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#quoteIdentifier()">quoteIdentifier</a>(string str, bool checkOption)</p><p class="description">Quote a string so it can be safely used as a table or column name.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#quoteMultipleIdentifier()">quoteMultipleIdentifier</a>(array arr, bool checkOption)</p><p class="description">quoteMultipleIdentifier
Quotes multiple identifier strings.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#replace()">replace</a>(mixed table, mixed fields, array keys, string name, array an)</p><p class="description">Execute a SQL REPLACE query. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#rethrowException()">rethrowException</a>(mixed e, mixed invoker, mixed query)</p><p class="description">rethrowException.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#rollback()">rollback</a>(string savepoint)</p><p class="description">rollback
Cancel any database changes done during a transaction or since a specific
savepoint that is in progress. </p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_connection_statement.html">Doctrine_Connection_Statement</a></td>
<td class="description"><p class="name"><a href="#select()">select</a>(string query, integer limit, integer offset)</p><p class="description">queries the database with limit and offset
added to the query and returns a Doctrine_Connection_Statement object.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#serialize()">serialize</a>()</p><p class="description">Serialize. </p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#setAttribute()">setAttribute</a>(integer attribute, mixed value)</p><p class="description">setAttribute
sets an attribute.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setDateFormat()">setDateFormat</a>(mixed format, string time)</p><p class="description">Set the date/time format for the current connection.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setName()">setName</a>(string name)</p><p class="description">setName.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setOption()">setOption</a>(string option, mixed value)</p><p class="description">setOption.</p></td>
</tr>
<tr>
<td class="type"> PDOStatement|Doctrine_Adapter_Statement</td>
<td class="description"><p class="name"><a href="#standaloneQuery()">standaloneQuery</a>(string query, array params)</p><p class="description">standaloneQuery.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#supports()">supports</a>(string feature)</p><p class="description">supports.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#unserialize()">unserialize</a>(string serialized)</p><p class="description">Unserialize. </p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#update()">update</a>(<a href="../doctrine/doctrine_table.html">Doctrine_Table</a> table, mixed fields, mixed identifier, array values)</p><p class="description">Updates table row(s) with specified data..</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Doctrine\Doctrine_Configurable</th></tr>
<tr><td><a href="../doctrine/doctrine_configurable.html#addListener()">addListener</a>, <a href="../doctrine/doctrine_configurable.html#addRecordListener()">addRecordListener</a>, <a href="../doctrine/doctrine_configurable.html#getAttribute()">getAttribute</a>, <a href="../doctrine/doctrine_configurable.html#getAttributes()">getAttributes</a>, <a href="../doctrine/doctrine_configurable.html#getCharset()">getCharset</a>, <a href="../doctrine/doctrine_configurable.html#getCollate()">getCollate</a>, <a href="../doctrine/doctrine_configurable.html#getImpl()">getImpl</a>, <a href="../doctrine/doctrine_configurable.html#getListener()">getListener</a>, <a href="../doctrine/doctrine_configurable.html#getParam()">getParam</a>, <a href="../doctrine/doctrine_configurable.html#getParamNamespaces()">getParamNamespaces</a>, <a href="../doctrine/doctrine_configurable.html#getParams()">getParams</a>, <a href="../doctrine/doctrine_configurable.html#getParent()">getParent</a>, <a href="../doctrine/doctrine_configurable.html#getRecordListener()">getRecordListener</a>, <a href="../doctrine/doctrine_configurable.html#hasImpl()">hasImpl</a>, <a href="../doctrine/doctrine_configurable.html#setAttribute()">setAttribute</a>, <a href="../doctrine/doctrine_configurable.html#setCharset()">setCharset</a>, <a href="../doctrine/doctrine_configurable.html#setCollate()">setCollate</a>, <a href="../doctrine/doctrine_configurable.html#setEventListener()">setEventListener</a>, <a href="../doctrine/doctrine_configurable.html#setImpl()">setImpl</a>, <a href="../doctrine/doctrine_configurable.html#setListener()">setListener</a>, <a href="../doctrine/doctrine_configurable.html#setParam()">setParam</a>, <a href="../doctrine/doctrine_configurable.html#setParent()">setParent</a>, <a href="../doctrine/doctrine_configurable.html#setRecordListener()">setRecordListener</a>, <a href="../doctrine/doctrine_configurable.html#unsetAttribute()">unsetAttribute</a></td></tr></table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Doctrine\Doctrine_Locator_Injectable</th></tr>
<tr><td><a href="../doctrine/doctrine_locator_injectable.html#bind()">bind</a>, <a href="../doctrine/doctrine_locator_injectable.html#getLocator()">getLocator</a>, <a href="../doctrine/doctrine_locator_injectable.html#getNullObject()">getNullObject</a>, <a href="../doctrine/doctrine_locator_injectable.html#initNullObject()">initNullObject</a>, <a href="../doctrine/doctrine_locator_injectable.html#locate()">locate</a>, <a href="../doctrine/doctrine_locator_injectable.html#setLocator()">setLocator</a></td></tr></table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/Connection.php at line 176</div>
<h3 id="_count">_count</h3>
<code class="signature">protected  mixed <strong>$_count</strong></code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 76</div>
<h3 id="_name">_name</h3>
<code class="signature">protected  string $_name <strong>$_name</strong></code>
<div class="details">
<p>$_name</p><p>Name of the connection</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 181</div>
<h3 id="_usedNames">_usedNames</h3>
<code class="signature">protected  array $_userFkNames                 array of foreign key names that have been used <strong>$_usedNames</strong> = array(...)</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 61</div>
<h3 id="dbh">dbh</h3>
<code class="signature">protected  $dbh                                the database handler <strong>$dbh</strong></code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 83</div>
<h3 id="driverName">driverName</h3>
<code class="signature">protected  string $driverName <strong>$driverName</strong></code>
<div class="details">
<p>The name of this connection driver.</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 88</div>
<h3 id="isConnected">isConnected</h3>
<code class="signature">protected  boolean $isConnected                whether or not a connection has been established <strong>$isConnected</strong> = false</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 132</div>
<h3 id="modules">modules</h3>
<code class="signature">private  array $modules                      an array containing all modules transaction                 Doctrine_Transaction driver, handles savepoint and transaction isolation abstraction expression                  Doctrine_Expression_Driver, handles expression abstraction dataDict                    Doctrine_DataDict driver, handles datatype abstraction export                      Doctrine_Export driver, handles db structure modification abstraction (contains methods such as alterTable, createConstraint etc.) import                      Doctrine_Import driver, handles db schema reading sequence                    Doctrine_Sequence driver, handles sequential id generation and retrieval unitOfWork                  Doctrine_Connection_UnitOfWork handles many orm functionalities such as object deletion and saving formatter                   Doctrine_Formatter handles data formatting, quoting and escaping <strong>$modules</strong> = array(...)</code>
<div class="details">
<p></p>
Strict Standards: Only variables should be assigned by reference in /Users/jwage/Sites/doctrine_website/lib/vendor/phpdoctor/classes/seeTag.php on line 141

Strict Standards: Only variables should be assigned by reference in /Users/jwage/Sites/doctrine_website/lib/vendor/phpdoctor/classes/seeTag.php on line 141
<dl>
<dt>See Also:</dt>
<dd><a href="../doctrine/doctrine_connection.html#__get()">Doctrine_Connection::__get()</a></dd>
<dd>Doctrine_DataDict</dd>
<dd>Doctrine_Expression_Driver</dd>
<dd>Doctrine_Export</dd>
<dd>Doctrine_Transaction</dd>
<dd>Doctrine_Sequence</dd>
<dd>Doctrine_Connection_UnitOfWork</dd>
<dd>Doctrine_Formatter</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 164</div>
<h3 id="options">options</h3>
<code class="signature">protected  mixed <strong>$options</strong> = array()</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 102</div>
<h3 id="pendingAttributes">pendingAttributes</h3>
<code class="signature">protected  array $pendingAttributes            An array of pending attributes. When setting attributes no connection is needed. When connected all the pending attributes are passed to the underlying adapter (usually PDO) instance. <strong>$pendingAttributes</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 146</div>
<h3 id="properties">properties</h3>
<code class="signature">protected  array $properties               an array of connection properties <strong>$properties</strong> = array(...)</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 162</div>
<h3 id="serverInfo">serverInfo</h3>
<code class="signature">protected  array $serverInfo <strong>$serverInfo</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 95</div>
<h3 id="supported">supported</h3>
<code class="signature">protected  array $supported                    an array containing all features this driver supports, keys representing feature names and values as one of the following (true, false, 'emulated') <strong>$supported</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 169</div>
<h3 id="supportedDrivers">supportedDrivers</h3>
<code class="signature">private static  array $supportedDrivers         an array containing all supported drivers <strong>$supportedDrivers</strong> = array(...)</code>
<div class="details">
<p></p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 67</div>
<h3 id="tables">tables</h3>
<code class="signature">protected  array $tables                       an array containing all the initialized Doctrine_Table objects keys representing Doctrine_Table component names and values as Doctrine_Table objects <strong>$tables</strong> = array()</code>
<div class="details">
<p></p></div>

<hr>

<h2 id="detail_constr">Constructor Detail</h2>
<div class="location">/Doctrine/Connection.php at line 192</div>
<h3 id="Doctrine_Connection()">Doctrine_Connection</h3>
<code class="signature">public <strong>Doctrine_Connection</strong>(<a href="../doctrine/doctrine_manager.html">Doctrine_Manager</a> manager, PDO|Doctrine_Adapter_Interface adapter, mixed user, mixed pass)</code>
<div class="details">
<p>the constructor</p><dl>
<dt>Parameters:</dt>
<dd>manager - the manager object</dd>
<dd>adapter - database driver</dd>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/Connection.php at line 399</div>
<h3 id="__get()">__get</h3>
<code class="signature">public  <a href="../doctrine/doctrine_connection_module.html">Doctrine_Connection_Module</a> <strong>__get</strong>(string name)</code>
<div class="details">
<p>__get
lazy loads given module and returns it</p>
Strict Standards: Only variables should be assigned by reference in /Users/jwage/Sites/doctrine_website/lib/vendor/phpdoctor/classes/seeTag.php on line 141

Strict Standards: Only variables should be assigned by reference in /Users/jwage/Sites/doctrine_website/lib/vendor/phpdoctor/classes/seeTag.php on line 141
<dl>
<dt>See Also:</dt>
<dd>Doctrine_DataDict</dd>
<dd>Doctrine_Expression_Driver</dd>
<dd>Doctrine_Export</dd>
<dd>Doctrine_Transaction</dd>
<dd><a href="../doctrine/doctrine_connection.html#modules">      all availible modules</a></dd>
<dt>Parameters:</dt>
<dd>name - the name of the module to get</dd>
<dt>Throws:</dt>
<dd>if trying to get an unknown module</dd>
<dt>Returns:</dt>
<dd>connection module</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1552</div>
<h3 id="__toString()">__toString</h3>
<code class="signature">public  string <strong>__toString</strong>()</code>
<div class="details">
<p>returns a string representation of this object</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1623</div>
<h3 id="_generateUniqueName()">_generateUniqueName</h3>
<code class="signature">protected  void <strong>_generateUniqueName</strong>(mixed type, mixed parts, mixed key, mixed format, mixed maxLength)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1176</div>
<h3 id="addTable()">addTable</h3>
<code class="signature">public  boolean <strong>addTable</strong>(mixed table, $table a)</code>
<div class="details">
<p>addTable
adds a Doctrine_Table object into connection registry</p><dl>
<dt>Parameters:</dt>
<dd>a - Doctrine_Table object to be added into registry</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1375</div>
<h3 id="beginInternalTransaction()">beginInternalTransaction</h3>
<code class="signature">public  void <strong>beginInternalTransaction</strong>(mixed savepoint)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1370</div>
<h3 id="beginTransaction()">beginTransaction</h3>
<code class="signature">public  integer <strong>beginTransaction</strong>(string savepoint)</code>
<div class="details">
<p>beginTransaction
Start a transaction or set a savepoint.</p><p>if trying to set a savepoint and there is no active transaction
a new transaction is being started</p><p>Listeners: onPreTransactionBegin, onTransactionBegin</p><dl>
<dt>Parameters:</dt>
<dd>savepoint - name of a savepoint to set</dd>
<dt>Throws:</dt>
<dd>if the transaction fails at database level</dd>
<dt>Returns:</dt>
<dd>current transaction nesting level</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1236</div>
<h3 id="clear()">clear</h3>
<code class="signature">public  void <strong>clear</strong>()</code>
<div class="details">
<p>clear
clears all repositories</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1262</div>
<h3 id="close()">close</h3>
<code class="signature">public  void <strong>close</strong>()</code>
<div class="details">
<p>close
closes the connection</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1393</div>
<h3 id="commit()">commit</h3>
<code class="signature">public  boolean <strong>commit</strong>(string savepoint)</code>
<div class="details">
<p>commit
Commit the database changes done during a transaction that is in
progress or release a savepoint. This function may only be called when
auto-committing is disabled, otherwise it will fail.</p><p>Listeners: onPreTransactionCommit, onTransactionCommit</p><dl>
<dt>Parameters:</dt>
<dd>savepoint - name of a savepoint to release</dd>
<dt>Throws:</dt>
<dd>if the transaction fails at PDO level</dd>
<dd>if the transaction fails due to record validations</dd>
<dt>Returns:</dt>
<dd>false if commit couldn't be performed, true otherwise</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 453</div>
<h3 id="connect()">connect</h3>
<code class="signature">public  boolean <strong>connect</strong>()</code>
<div class="details">
<p>connect
connects into database</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 762</div>
<h3 id="convertBooleans()">convertBooleans</h3>
<code class="signature">public  void <strong>convertBooleans</strong>(array item)</code>
<div class="details">
<p>convertBooleans
some drivers need the boolean values to be converted into integers
when using DQL API</p><p>This method takes care of that conversion</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1164</div>
<h3 id="count()">count</h3>
<code class="signature">public  integer <strong>count</strong>()</code>
<div class="details">
<p>returns the count of initialized table objects</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1195</div>
<h3 id="create()">create</h3>
<code class="signature">public  <a href="../doctrine/doctrine_record.html">Doctrine_Record</a> <strong>create</strong>(string name)</code>
<div class="details">
<p>create
creates a record</p><p>create                       creates a record</p><dl>
<dt>Parameters:</dt>
<dd>name - component name</dd>
<dt>Returns:</dt>
<dd>Doctrine_Record object</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1424</div>
<h3 id="createDatabase()">createDatabase</h3>
<code class="signature">public  string <strong>createDatabase</strong>()</code>
<div class="details">
<p>createDatabase</p><p>Issue create database command for this instance of Doctrine_Connection</p><dl>
<dt>Returns:</dt>
<dd>Doctrine_Exception catched in case of failure</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1205</div>
<h3 id="createQuery()">createQuery</h3>
<code class="signature">public  <a href="../doctrine/doctrine_query.html">Doctrine_Query</a> <strong>createQuery</strong>()</code>
<div class="details">
<p>Creates a new Doctrine_Query object that operates on this connection.</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 606</div>
<h3 id="delete()">delete</h3>
<code class="signature">public  integer <strong>delete</strong>(string table, array identifier)</code>
<div class="details">
<p>deletes table row(s) matching the specified identifier</p><dl>
<dt>Throws:</dt>
<dd>if something went wrong at the database level</dd>
<dt>Parameters:</dt>
<dd>table - The table to delete data from</dd>
<dd>identifier - An associateve array containing identifier column-value pairs.</dd>
<dt>Returns:</dt>
<dd>The number of affected rows</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 515</div>
<h3 id="driverName()">driverName</h3>
<code class="signature">public  void <strong>driverName</strong>(mixed name)</code>
<div class="details">
<p>converts given driver name</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1457</div>
<h3 id="dropDatabase()">dropDatabase</h3>
<code class="signature">public  string <strong>dropDatabase</strong>()</code>
<div class="details">
<p>dropDatabase</p><p>Issue drop database command for this instance of Doctrine_Connection</p><dl>
<dt>Returns:</dt>
<dd>success string. Doctrine_Exception if operation failed</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1292</div>
<h3 id="errorCode()">errorCode</h3>
<code class="signature">public  integer <strong>errorCode</strong>()</code>
<div class="details">
<p>errorCode
Fetch the SQLSTATE associated with the last operation on the database handle</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1305</div>
<h3 id="errorInfo()">errorInfo</h3>
<code class="signature">public  array <strong>errorInfo</strong>()</code>
<div class="details">
<p>errorInfo
Fetch extended error information associated with the last operation on the database handle</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1250</div>
<h3 id="evictTables()">evictTables</h3>
<code class="signature">public  void <strong>evictTables</strong>()</code>
<div class="details">
<p>evictTables
evicts all tables</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1035</div>
<h3 id="exec()">exec</h3>
<code class="signature">public  integer <strong>exec</strong>(string query, array params)</code>
<div class="details">
<p>exec</p><dl>
<dt>Parameters:</dt>
<dd>query - sql query</dd>
<dd>params - query parameters</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 999</div>
<h3 id="execute()">execute</h3>
<code class="signature">public  PDOStatement|Doctrine_Adapter_Statement <strong>execute</strong>(string query, array params)</code>
<div class="details">
<p>execute</p><dl>
<dt>Parameters:</dt>
<dd>query - sql query</dd>
<dd>params - query parameters</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 798</div>
<h3 id="fetchAll()">fetchAll</h3>
<code class="signature">public  array <strong>fetchAll</strong>(string statement, array params)</code>
<div class="details">
<p>fetchAll</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 835</div>
<h3 id="fetchArray()">fetchArray</h3>
<code class="signature">public  array <strong>fetchArray</strong>(string statement, array params)</code>
<div class="details">
<p>fetchArray</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 860</div>
<h3 id="fetchAssoc()">fetchAssoc</h3>
<code class="signature">public  array <strong>fetchAssoc</strong>(string statement, array params)</code>
<div class="details">
<p>fetchAssoc</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 872</div>
<h3 id="fetchBoth()">fetchBoth</h3>
<code class="signature">public  array <strong>fetchBoth</strong>(string statement, array params)</code>
<div class="details">
<p>fetchBoth</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 848</div>
<h3 id="fetchColumn()">fetchColumn</h3>
<code class="signature">public  array <strong>fetchColumn</strong>(string statement, array params, int colnum)</code>
<div class="details">
<p>fetchColumn</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
<dd>colnum - 0-indexed column number to retrieve</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 811</div>
<h3 id="fetchOne()">fetchOne</h3>
<code class="signature">public  mixed <strong>fetchOne</strong>(string statement, array params, int colnum)</code>
<div class="details">
<p>fetchOne</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
<dd>colnum - 0-indexed column number to retrieve</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 823</div>
<h3 id="fetchRow()">fetchRow</h3>
<code class="signature">public  array <strong>fetchRow</strong>(string statement, array params)</code>
<div class="details">
<p>fetchRow</p><dl>
<dt>Parameters:</dt>
<dd>statement - sql query to be executed</dd>
<dd>params - prepared statement params</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1218</div>
<h3 id="flush()">flush</h3>
<code class="signature">public  void <strong>flush</strong>()</code>
<div class="details">
<p>flush
saves all the records from all tables
this operation is isolated using a transaction</p><dl>
<dt>Throws:</dt>
<dd>if something went wrong at database level</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1612</div>
<h3 id="generateUniqueIndexName()">generateUniqueIndexName</h3>
<code class="signature">public  string <strong>generateUniqueIndexName</strong>(string tableName, string fields)</code>
<div class="details">
<p>Get/generate unique index name for a table name and set of fields</p><dl>
<dt>Parameters:</dt>
<dd>tableName - The name of the table the index exists</dd>
<dd>fields - The fields that makes up the index</dd>
<dt>Returns:</dt>
<dd>$indexName The name of the generated index</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1591</div>
<h3 id="generateUniqueRelationForeignKeyName()">generateUniqueRelationForeignKeyName</h3>
<code class="signature">public  string <strong>generateUniqueRelationForeignKeyName</strong>(<a href="../doctrine/doctrine_relation.html">Doctrine_Relation</a> relation)</code>
<div class="details">
<p>Get/generate a unique foreign key name for a relationship</p><dl>
<dt>Parameters:</dt>
<dd>relation - Relation object to generate the foreign key name for</dd>
<dt>Returns:</dt>
<dd>$fkName</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 281</div>
<h3 id="getAttribute()">getAttribute</h3>
<code class="signature">public  mixed <strong>getAttribute</strong>(integer attribute)</code>
<div class="details">
<p>getAttribute
retrieves a database connection attribute</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 309</div>
<h3 id="getAvailableDrivers()">getAvailableDrivers</h3>
<code class="signature">public static  void <strong>getAvailableDrivers</strong>()</code>
<div class="details">
<p>returns an array of available PDO drivers</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 440</div>
<h3 id="getDbh()">getDbh</h3>
<code class="signature">public  PDO <strong>getDbh</strong>()</code>
<div class="details">
<p>returns the database handler of which this connection uses</p><dl>
<dt>Returns:</dt>
<dd>the database handler</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 381</div>
<h3 id="getDriverName()">getDriverName</h3>
<code class="signature">public  void <strong>getDriverName</strong>()</code>
<div class="details">
<p>getDriverName</p><p>Gets the name of the instance driver</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1154</div>
<h3 id="getIterator()">getIterator</h3>
<code class="signature">public  ArrayIterator <strong>getIterator</strong>()</code>
<div class="details">
<p>returns an iterator that iterators through all
initialized table objects</p><p><code>
foreach ($conn as $index => $table) {
print $table;  // get a string representation of each table object
}
</code></p><dl>
<dt>Returns:</dt>
<dd>SPL ArrayIterator object</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 430</div>
<h3 id="getManager()">getManager</h3>
<code class="signature">public  <a href="../doctrine/doctrine_manager.html">Doctrine_Manager</a> <strong>getManager</strong>()</code>
<div class="details">
<p>returns the manager that created this connection</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 356</div>
<h3 id="getName()">getName</h3>
<code class="signature">public  string <strong>getName</strong>()</code>
<div class="details">
<p>getName
returns the name of this driver</p><dl>
<dt>Returns:</dt>
<dd>the name of this driver</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 254</div>
<h3 id="getOption()">getOption</h3>
<code class="signature">public  void <strong>getOption</strong>(string option)</code>
<div class="details">
<p>getOption</p><p>Retrieves option</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 241</div>
<h3 id="getOptions()">getOptions</h3>
<code class="signature">public  void <strong>getOptions</strong>()</code>
<div class="details">
<p>getOptions</p><p>Get array of all options</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1331</div>
<h3 id="getQueryCacheDriver()">getQueryCacheDriver</h3>
<code class="signature">public  <a href="../doctrine/doctrine_cache_interface.html">Doctrine_Cache_Interface</a> <strong>getQueryCacheDriver</strong>()</code>
<div class="details">
<p>getQueryCacheDriver</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1317</div>
<h3 id="getResultCacheDriver()">getResultCacheDriver</h3>
<code class="signature">public  <a href="../doctrine/doctrine_cache_interface.html">Doctrine_Cache_Interface</a> <strong>getResultCacheDriver</strong>()</code>
<div class="details">
<p>getResultCacheDriver</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 319</div>
<h3 id="getSupportedDrivers()">getSupportedDrivers</h3>
<code class="signature">public static  array <strong>getSupportedDrivers</strong>()</code>
<div class="details">
<p>Returns an array of supported drivers by Doctrine</p><dl>
<dt>Returns:</dt>
<dd>$supportedDrivers</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1113</div>
<h3 id="getTable()">getTable</h3>
<code class="signature">public  <a href="../doctrine/doctrine_table.html">Doctrine_Table</a> <strong>getTable</strong>(string name)</code>
<div class="details">
<p>returns a table object for given component name</p><dl>
<dt>Parameters:</dt>
<dd>name - component name</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1137</div>
<h3 id="getTables()">getTables</h3>
<code class="signature">public  array <strong>getTables</strong>()</code>
<div class="details">
<p>returns an array of all initialized tables</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1496</div>
<h3 id="getTmpConnection()">getTmpConnection</h3>
<code class="signature">public  void <strong>getTmpConnection</strong>(string info)</code>
<div class="details">
<p>getTmpConnection</p><p>Create a temporary connection to the database with the user credentials.
This is so the user can make a connection to a db server. Some dbms allow
connections with no database, but some do not. In that case we have a table
which is always guaranteed to exist. Mysql: 'mysql', PostgreSQL: 'postgres', etc.
This value is set in the Doctrine_Export_{DRIVER} classes if required</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1281</div>
<h3 id="getTransactionLevel()">getTransactionLevel</h3>
<code class="signature">public  integer <strong>getTransactionLevel</strong>()</code>
<div class="details">
<p>get the current transaction nesting level</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1102</div>
<h3 id="hasTable()">hasTable</h3>
<code class="signature">public  boolean <strong>hasTable</strong>(mixed name)</code>
<div class="details">
<p>hasTable
whether or not this connection has table $name initialized</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 505</div>
<h3 id="incrementQueryCount()">incrementQueryCount</h3>
<code class="signature">public  void <strong>incrementQueryCount</strong>()</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 664</div>
<h3 id="insert()">insert</h3>
<code class="signature">public  integer <strong>insert</strong>(<a href="../doctrine/doctrine_table.html">Doctrine_Table</a> table, mixed fields, array values)</code>
<div class="details">
<p>Inserts a table row with specified data.</p><dl>
<dt>Parameters:</dt>
<dd>table - The table to insert data into.</dd>
<dd>values - An associative array containing column-value pairs. Values can be strings or Doctrine_Expression instances.</dd>
<dt>Returns:</dt>
<dd>the number of affected rows. Boolean false if empty value array was given,</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 229</div>
<h3 id="isConnected()">isConnected</h3>
<code class="signature">public  boolean <strong>isConnected</strong>()</code>
<div class="details">
<p>Check wherther the connection to the database has been made yet</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1352</div>
<h3 id="lastInsertId()">lastInsertId</h3>
<code class="signature">public  void <strong>lastInsertId</strong>(string table, string field)</code>
<div class="details">
<p>lastInsertId</p><p>Returns the ID of the last inserted row, or the last value from a sequence object,
depending on the underlying driver.</p><p>Note: This method may not return a meaningful or consistent result across different drivers,
because the underlying database may not even support the notion of auto-increment fields or sequences.</p><dl>
<dt>Parameters:</dt>
<dd>table - name of the table into which a new row was inserted</dd>
<dd>field - name of the field into which a new row was inserted</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1531</div>
<h3 id="modifyLimitQuery()">modifyLimitQuery</h3>
<code class="signature">public  string <strong>modifyLimitQuery</strong>(mixed query, mixed limit, mixed offset, mixed isManip)</code>
<div class="details">
<p>modifyLimitQuery</p><p>Some dbms require specific functionality for this. Check the other connection adapters for examples</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1542</div>
<h3 id="modifyLimitSubquery()">modifyLimitSubquery</h3>
<code class="signature">public  string <strong>modifyLimitSubquery</strong>(mixed rootTable, mixed query, mixed limit, mixed offset, mixed isManip)</code>
<div class="details">
<p>Creates dbms specific LIMIT/OFFSET SQL for the subqueries that are used in the
context of the limit-subquery algorithm.</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 908</div>
<h3 id="prepare()">prepare</h3>
<code class="signature">public  void <strong>prepare</strong>(string statement)</code>
<div class="details">
<p>prepare</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 894</div>
<h3 id="query()">query</h3>
<code class="signature">public  <a href="../doctrine/doctrine_collection.html">Doctrine_Collection</a> <strong>query</strong>(string query, array params, int hydrationMode)</code>
<div class="details">
<p>query
queries the database using Doctrine Query Language
returns a collection of Doctrine_Record objects</p><p><code>
$users = $conn->query('SELECT u.* FROM User u');</p><p>$users = $conn->query('SELECT u.* FROM User u WHERE u.name LIKE ?', array('someone'));
</code></p><dl>
<dt>Parameters:</dt>
<dd>query - DQL query</dd>
<dd>params - query parameters</dd>
<dd>hydrationMode - Doctrine_Core::HYDRATE_ARRAY or Doctrine_Core::HYDRATE_RECORD</dd>
<dt>See Also:</dt>
<dd>Doctrine_Query</dd>
<dt>Returns:</dt>
<dd>Collection of Doctrine_Record objects</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 951</div>
<h3 id="queryOne()">queryOne</h3>
<code class="signature">public  Doctrine_Record|false <strong>queryOne</strong>(string query, array params)</code>
<div class="details">
<p>query
queries the database using Doctrine Query Language and returns
the first record found</p><p><code>
$user = $conn->queryOne('SELECT u.* FROM User u WHERE u.id = ?', array(1));</p><p>$user = $conn->queryOne('SELECT u.* FROM User u WHERE u.name LIKE ? AND u.password = ?',
array('someone', 'password')
);
</code></p><dl>
<dt>Parameters:</dt>
<dd>query - DQL query</dd>
<dd>params - query parameters</dd>
<dt>See Also:</dt>
<dd>Doctrine_Query</dd>
<dt>Returns:</dt>
<dd>Doctrine_Record object on success, boolean false on failure</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 775</div>
<h3 id="quote()">quote</h3>
<code class="signature">public  string <strong>quote</strong>(mixed input, string type)</code>
<div class="details">
<p>quote
quotes given input parameter</p><dl>
<dt>Parameters:</dt>
<dd>input - parameter to be quoted</dd>
<dd></dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 722</div>
<h3 id="quoteIdentifier()">quoteIdentifier</h3>
<code class="signature">public  string <strong>quoteIdentifier</strong>(string str, bool checkOption)</code>
<div class="details">
<p>Quote a string so it can be safely used as a table or column name</p><p>Delimiting style depends on which database driver is being used.</p><p>NOTE: just because you CAN use delimited identifiers doesn't mean
you SHOULD use them.  In general, they end up causing way more
problems than they solve.</p><p>Portability is broken by using the following characters inside
delimited identifiers:
+ backtick (<kbd>`</kbd>) -- due to MySQL
+ double quote (<kbd>"</kbd>) -- due to Oracle
+ brackets (<kbd>[</kbd> or <kbd>]</kbd>) -- due to Access</p><p>Delimited identifiers are known to generally work correctly under
the following drivers:
+ mssql
+ mysql
+ mysqli
+ oci8
+ pgsql
+ sqlite</p><p>InterBase doesn't seem to be able to use delimited identifiers
via PHP 4.  They work fine under PHP 5.</p><dl>
<dt>Parameters:</dt>
<dd>str - identifier name to be quoted</dd>
<dd>checkOption - check the 'quote_identifier' option</dd>
<dt>Returns:</dt>
<dd>quoted identifier string</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 743</div>
<h3 id="quoteMultipleIdentifier()">quoteMultipleIdentifier</h3>
<code class="signature">public  string <strong>quoteMultipleIdentifier</strong>(array arr, bool checkOption)</code>
<div class="details">
<p>quoteMultipleIdentifier
Quotes multiple identifier strings</p><dl>
<dt>Parameters:</dt>
<dd>arr - identifiers array to be quoted</dd>
<dd>checkOption - check the 'quote_identifier' option</dd>
<dt>Returns:</dt>
<dd>quoted identifier string</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 566</div>
<h3 id="replace()">replace</h3>
<code class="signature">public  integer <strong>replace</strong>(mixed table, mixed fields, array keys, string name, array an)</code>
<div class="details">
<p>Execute a SQL REPLACE query. A REPLACE query is identical to a INSERT
query, except that if there is already a row in the table with the same
key field values, the REPLACE query just updates its values instead of
inserting a new row.</p><p>The REPLACE type of query does not make part of the SQL standards. Since
practically only MySQL and SQLIte implement it natively, this type of
query isemulated through this method for other DBMS using standard types
of queries inside a transaction to assure the atomicity of the operation.</p><dl>
<dt>Parameters:</dt>
<dd>name - of the table on which the REPLACE query will be executed.</dd>
<dd>an - associative array that describes the fields and the values that will be inserted or updated in the specified table. The indexes of the array are the names of all the fields of the table. The values of the array are values to be assigned to the specified field.</dd>
<dd>keys - an array containing all key fields (primary key fields or unique index fields) for this table the uniqueness of a row will be determined according to the provided key fields this method will fail if no key fields are specified</dd>
<dt>Throws:</dt>
<dd>if this driver doesn't support replace</dd>
<dd>if some of the key values was null</dd>
<dd>if there were no key fields</dd>
<dd>if something fails at PDO level</dd>
<dt>Returns:</dt>
<dd>number of rows affected</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1069</div>
<h3 id="rethrowException()">rethrowException</h3>
<code class="signature">public  void <strong>rethrowException</strong>(mixed e, mixed invoker, mixed query)</code>
<div class="details">
<p>rethrowException</p><dl>
<dt>Throws:</dt>
<dd>Doctrine_Connection_Exception</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1412</div>
<h3 id="rollback()">rollback</h3>
<code class="signature">public  boolean <strong>rollback</strong>(string savepoint)</code>
<div class="details">
<p>rollback
Cancel any database changes done during a transaction or since a specific
savepoint that is in progress. This function may only be called when
auto-committing is disabled, otherwise it will fail. Therefore, a new
transaction is implicitly started after canceling the pending changes.</p><p>this method can be listened with onPreTransactionRollback and onTransactionRollback
eventlistener methods</p><dl>
<dt>Parameters:</dt>
<dd>savepoint - name of a savepoint to rollback to</dd>
<dt>Throws:</dt>
<dd>if the rollback operation fails at database level</dd>
<dt>Returns:</dt>
<dd>false if rollback couldn't be performed, true otherwise</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 971</div>
<h3 id="select()">select</h3>
<code class="signature">public  <a href="../doctrine/doctrine_connection_statement.html">Doctrine_Connection_Statement</a> <strong>select</strong>(string query, integer limit, integer offset)</code>
<div class="details">
<p>queries the database with limit and offset
added to the query and returns a Doctrine_Connection_Statement object</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1562</div>
<h3 id="serialize()">serialize</h3>
<code class="signature">public  string <strong>serialize</strong>()</code>
<div class="details">
<p>Serialize. Remove database connection(pdo) since it cannot be serialized</p><dl>
<dt>Returns:</dt>
<dd>$serialized</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 335</div>
<h3 id="setAttribute()">setAttribute</h3>
<code class="signature">public  boolean <strong>setAttribute</strong>(integer attribute, mixed value)</code>
<div class="details">
<p>setAttribute
sets an attribute</p><dl>
<dt>Todo:</dt>
<dd>why check for >= 100? has this any special meaning when creating attributes?</dd>
<dt>See Also:</dt>
<dd>constants</dd>
<dt>Throws:</dt>
<dd>if the value is invalid</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 787</div>
<h3 id="setDateFormat()">setDateFormat</h3>
<code class="signature">public  void <strong>setDateFormat</strong>(mixed format, string time)</code>
<div class="details">
<p>Set the date/time format for the current connection</p><dl>
<dt>Parameters:</dt>
<dd>time - format</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 369</div>
<h3 id="setName()">setName</h3>
<code class="signature">public  void <strong>setName</strong>(string name)</code>
<div class="details">
<p>setName</p><p>Sets the name of the connection</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 269</div>
<h3 id="setOption()">setOption</h3>
<code class="signature">public  void <strong>setOption</strong>(string option, mixed value)</code>
<div class="details">
<p>setOption</p><p>Set option value</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 987</div>
<h3 id="standaloneQuery()">standaloneQuery</h3>
<code class="signature">public  PDOStatement|Doctrine_Adapter_Statement <strong>standaloneQuery</strong>(string query, array params)</code>
<div class="details">
<p>standaloneQuery</p><dl>
<dt>Parameters:</dt>
<dd>query - sql query</dd>
<dd>params - query parameters</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 525</div>
<h3 id="supports()">supports</h3>
<code class="signature">public  boolean <strong>supports</strong>(string feature)</code>
<div class="details">
<p>supports</p><dl>
<dt>Parameters:</dt>
<dd>feature - the name of the feature</dd>
<dt>Returns:</dt>
<dd>whether or not this drivers supports given feature</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Connection.php at line 1576</div>
<h3 id="unserialize()">unserialize</h3>
<code class="signature">public  void <strong>unserialize</strong>(string serialized)</code>
<div class="details">
<p>Unserialize. Recreate connection from serialized content</p></div>

<hr>

<div class="location">/Doctrine/Connection.php at line 630</div>
<h3 id="update()">update</h3>
<code class="signature">public  integer <strong>update</strong>(<a href="../doctrine/doctrine_table.html">Doctrine_Table</a> table, mixed fields, mixed identifier, array values)</code>
<div class="details">
<p>Updates table row(s) with specified data.</p><dl>
<dt>Throws:</dt>
<dd>if something went wrong at the database level</dd>
<dt>Parameters:</dt>
<dd>table - The table to insert data into</dd>
<dd>values - An associative array containing column-value pairs. Values can be strings or Doctrine_Expression instances.</dd>
<dt>Returns:</dt>
<dd>the number of affected rows. Boolean false if empty value array was given,</dd>
</dl>
</div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_connection.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>