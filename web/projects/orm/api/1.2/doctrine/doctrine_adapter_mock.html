<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 11:50:24 -0400">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Doctrine_Adapter_Mock (Doctrine 1.2 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_adapter_mock.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\Doctrine_Adapter_Mock</div>
<div class="location">/Doctrine/Adapter/Mock.php at line 33</div>

<h1>Class Doctrine_Adapter_Mock</h1>

<pre class="tree"><strong>Doctrine_Adapter_Mock</strong><br /></pre>

<dl>
<dt>All Implemented Interfaces:</dt>
<dd>Doctrine_Adapter_Interface </dt>
</dl>

<hr>

<p class="signature">public  class <strong>Doctrine_Adapter_Mock</strong></p>

<div class="comment" id="overview_description"><p>Doctrine mock connection adapter. This class is used for special testing purposes.</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>Adapter</dd>
<dt>Author:</dt>
<dd>Konsta Vesterinen <kvesteri@cc.hut.fi></dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>See Also:</dt>
<dd><code>www.doctrine-project.org</code></dd>
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>$Revision: 7490 $</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">private  array $exceptions</td>
<td class="description"><p class="name"><a href="#_exception">$_exception</a></p><p class="description">Array of exceptions thrown.</p></td>
</tr>
<tr>
<td class="type">private  boolean $lastInsertIdFail</td>
<td class="description"><p class="name"><a href="#_lastInsertIdFail">$_lastInsertIdFail</a></p><p class="description">Bool true/false variable for whether or not the last insert failed.</p></td>
</tr>
<tr>
<td class="type">private  string</td>
<td class="description"><p class="name"><a href="#_name">$_name</a></p><p class="description">Name of the dbms to mock.</p></td>
</tr>
<tr>
<td class="type">private  array $queries</td>
<td class="description"><p class="name"><a href="#_queries">$_queries</a></p><p class="description">Array of queries executed through this instance of the mock adapter.</p></td>
</tr>
</table>

<table id="summary_constr">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="description"><p class="name"><a href="#Doctrine_Adapter_Mock()">Doctrine_Adapter_Mock</a>(string name)</p><p class="description">Doctrine mock adapter constructor.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#addQuery()">addQuery</a>(string query)</p><p class="description">Add query to the stack of executed queries.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#beginTransaction()">beginTransaction</a>()</p><p class="description">Begin a transaction.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#commit()">commit</a>()</p><p class="description">Commit a transaction.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#count()">count</a>()</p><p class="description">Get the number of queries executed.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#errorCode()">errorCode</a>()</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#errorInfo()">errorInfo</a>()</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#exec()">exec</a>(string statement)</p><p class="description">Execute a raw sql statement.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#forceException()">forceException</a>(string name, string message, integer code)</p><p class="description">Force an exception in to the array of exceptions.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#forceLastInsertIdFail()">forceLastInsertIdFail</a>(boolean fail)</p><p class="description">Force last insert to be failed.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getAll()">getAll</a>()</p><p class="description">Get all the executed queries.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getAttribute()">getAttribute</a>(mixed attribute)</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getName()">getName</a>()</p><p class="description">Get the name of the dbms used in this instance of the mock adapter.</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#lastInsertId()">lastInsertId</a>()</p><p class="description">Get the id of the last inserted record.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#pop()">pop</a>()</p><p class="description">Pop the last executed query from the array of executed queries and return it.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_adapter_statement_mock.html">Doctrine_Adapter_Statement_Mock</a></td>
<td class="description"><p class="name"><a href="#prepare()">prepare</a>(string query)</p><p class="description">Prepare a query statement.</p></td>
</tr>
<tr>
<td class="type"> <a href="../doctrine/doctrine_adapter_statement_mock.html">Doctrine_Adapter_Statement_Mock</a></td>
<td class="description"><p class="name"><a href="#query()">query</a>(string query)</p><p class="description">Fake the execution of query and add it to the stack of executed queries.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#quote()">quote</a>(string input)</p><p class="description">Quote a value for the dbms.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#rollBack()">rollBack</a>()</p><p class="description">Rollback a transaction.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setAttribute()">setAttribute</a>(mixed attribute, mixed value)</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#sqliteCreateFunction()">sqliteCreateFunction</a>()</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/Adapter/Mock.php at line 54</div>
<h3 id="_exception">_exception</h3>
<code class="signature">private  array $exceptions <strong>$_exception</strong> = array()</code>
<div class="details">
<p>Array of exceptions thrown</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 61</div>
<h3 id="_lastInsertIdFail">_lastInsertIdFail</h3>
<code class="signature">private  boolean $lastInsertIdFail <strong>$_lastInsertIdFail</strong> = false</code>
<div class="details">
<p>Bool true/false variable for whether or not the last insert failed</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 40</div>
<h3 id="_name">_name</h3>
<code class="signature">private  string <strong>$_name</strong></code>
<div class="details">
<p>Name of the dbms to mock</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 47</div>
<h3 id="_queries">_queries</h3>
<code class="signature">private  array $queries <strong>$_queries</strong> = array()</code>
<div class="details">
<p>Array of queries executed through this instance of the mock adapter</p></div>

<hr>

<h2 id="detail_constr">Constructor Detail</h2>
<div class="location">/Doctrine/Adapter/Mock.php at line 73</div>
<h3 id="Doctrine_Adapter_Mock()">Doctrine_Adapter_Mock</h3>
<code class="signature">public <strong>Doctrine_Adapter_Mock</strong>(string name)</code>
<div class="details">
<p>Doctrine mock adapter constructor</p><p><code>
$conn = new Doctrine_Adapter_Mock('mysql');
</code></p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/Adapter/Mock.php at line 131</div>
<h3 id="addQuery()">addQuery</h3>
<code class="signature">public  void <strong>addQuery</strong>(string query)</code>
<div class="details">
<p>Add query to the stack of executed queries</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 251</div>
<h3 id="beginTransaction()">beginTransaction</h3>
<code class="signature">public  void <strong>beginTransaction</strong>()</code>
<div class="details">
<p>Begin a transaction</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 261</div>
<h3 id="commit()">commit</h3>
<code class="signature">public  void <strong>commit</strong>()</code>
<div class="details">
<p>Commit a transaction</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 241</div>
<h3 id="count()">count</h3>
<code class="signature">public  integer <strong>count</strong>()</code>
<div class="details">
<p>Get the number of queries executed</p><dl>
<dt>Returns:</dt>
<dd>$count</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 283</div>
<h3 id="errorCode()">errorCode</h3>
<code class="signature">public  void <strong>errorCode</strong>()</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 286</div>
<h3 id="errorInfo()">errorInfo</h3>
<code class="signature">public  void <strong>errorInfo</strong>()</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 189</div>
<h3 id="exec()">exec</h3>
<code class="signature">public  void <strong>exec</strong>(string statement)</code>
<div class="details">
<p>Execute a raw sql statement</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 106</div>
<h3 id="forceException()">forceException</h3>
<code class="signature">public  void <strong>forceException</strong>(string name, string message, integer code)</code>
<div class="details">
<p>Force an exception in to the array of exceptions</p><dl>
<dt>Parameters:</dt>
<dd>name - Name of exception</dd>
<dd>message - Message for the exception</dd>
<dd>code - Code of the exception</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 212</div>
<h3 id="forceLastInsertIdFail()">forceLastInsertIdFail</h3>
<code class="signature">public  void <strong>forceLastInsertIdFail</strong>(boolean fail)</code>
<div class="details">
<p>Force last insert to be failed</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 167</div>
<h3 id="getAll()">getAll</h3>
<code class="signature">public  array <strong>getAll</strong>()</code>
<div class="details">
<p>Get all the executed queries</p><dl>
<dt>Returns:</dt>
<dd>$queries Array of all executed queries</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 276</div>
<h3 id="getAttribute()">getAttribute</h3>
<code class="signature">public  void <strong>getAttribute</strong>(mixed attribute)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 83</div>
<h3 id="getName()">getName</h3>
<code class="signature">public  string <strong>getName</strong>()</code>
<div class="details">
<p>Get the name of the dbms used in this instance of the mock adapter</p><dl>
<dt>Returns:</dt>
<dd>$name Name of the dbms</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 226</div>
<h3 id="lastInsertId()">lastInsertId</h3>
<code class="signature">public  integer <strong>lastInsertId</strong>()</code>
<div class="details">
<p>Get the id of the last inserted record</p><dl>
<dt>Returns:</dt>
<dd>$id</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 93</div>
<h3 id="pop()">pop</h3>
<code class="signature">public  string <strong>pop</strong>()</code>
<div class="details">
<p>Pop the last executed query from the array of executed queries and return it</p><dl>
<dt>Returns:</dt>
<dd>$sql Last executed sql string</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 117</div>
<h3 id="prepare()">prepare</h3>
<code class="signature">public  <a href="../doctrine/doctrine_adapter_statement_mock.html">Doctrine_Adapter_Statement_Mock</a> <strong>prepare</strong>(string query)</code>
<div class="details">
<p>Prepare a query statement</p><dl>
<dt>Parameters:</dt>
<dd>query - Query to prepare</dd>
<dt>Returns:</dt>
<dd>$mock Mock prepared statement</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 142</div>
<h3 id="query()">query</h3>
<code class="signature">public  <a href="../doctrine/doctrine_adapter_statement_mock.html">Doctrine_Adapter_Statement_Mock</a> <strong>query</strong>(string query)</code>
<div class="details">
<p>Fake the execution of query and add it to the stack of executed queries</p><dl>
<dt>Returns:</dt>
<dd>$stmt</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 178</div>
<h3 id="quote()">quote</h3>
<code class="signature">public  string <strong>quote</strong>(string input)</code>
<div class="details">
<p>Quote a value for the dbms</p><dl>
<dt>Returns:</dt>
<dd>$quoted</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 271</div>
<h3 id="rollBack()">rollBack</h3>
<code class="signature">public  void <strong>rollBack</strong>()</code>
<div class="details">
<p>Rollback a transaction</p></div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 289</div>
<h3 id="setAttribute()">setAttribute</h3>
<code class="signature">public  void <strong>setAttribute</strong>(mixed attribute, mixed value)</code>
<div class="details">
</div>

<hr>

<div class="location">/Doctrine/Adapter/Mock.php at line 292</div>
<h3 id="sqliteCreateFunction()">sqliteCreateFunction</h3>
<code class="signature">public  void <strong>sqliteCreateFunction</strong>()</code>
<div class="details">
</div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_adapter_mock.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>