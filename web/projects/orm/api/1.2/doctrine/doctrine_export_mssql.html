<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Fri, 09 Apr 2010 11:50:25 -0400">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Doctrine_Export_Mssql (Doctrine 1.2 ORM)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_export_mssql.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\Doctrine_Export_Mssql</div>
<div class="location">/Doctrine/Export/Mssql.php at line 35</div>

<h1>Class Doctrine_Export_Mssql</h1>

<pre class="tree">Class:Doctrine_Export_Mssql - Superclass: Doctrine_Export
Class:Doctrine_Export - Superclass: Doctrine_Connection_Module
<a href="../doctrine/doctrine_connection_module.html">Doctrine_Connection_Module</a><br>   &lfloor;&nbsp;<a href="../doctrine/doctrine_export.html">Doctrine_Export</a><br>      &lfloor;&nbsp;<strong>Doctrine_Export_Mssql</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Doctrine_Export_Mssql</strong><br>extends <a href="../doctrine/doctrine_export.html">Doctrine_Export</a>

</p>

<div class="comment" id="overview_description"><p>Doctrine_Export_Mssql</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>Export</dd>
<dt>Author:</dt>
<dd>Konsta Vesterinen <kvesteri@cc.hut.fi></dd>
<dd>Lukas Smith <smith@pooteeweet.org> (PEAR MDB2 library)</dd>
<dd>Frank M. Kromann <frank@kromann.info> (PEAR MDB2 Mssql driver)</dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>See Also:</dt>
<dd><code>www.doctrine-project.org</code></dd>
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>$Revision: 7490 $</dd>
</dl>
<hr>

<table class="inherit">
<tr><th colspan="2">Fields inherited from Doctrine\Doctrine_Export</th></tr>
<tr><td><a href="../doctrine/doctrine_export.html#valid_default_values">valid_default_values</a></td></tr></table>

<table class="inherit">
<tr><th colspan="2">Fields inherited from Doctrine\Doctrine_Connection_Module</th></tr>
<tr><td><a href="../doctrine/doctrine_connection_module.html#conn">conn</a>, <a href="../doctrine/doctrine_connection_module.html#moduleName">moduleName</a></td></tr></table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#alterTable()">alterTable</a>(string name, array changes, boolean check)</p><p class="description">alter an existing table.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#createDatabase()">createDatabase</a>(string name, mixed database)</p><p class="description">create a new database.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#createSequence()">createSequence</a>(string seqName, string start, array options)</p><p class="description">create sequence.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#createTableSql()">createTableSql</a>(string name, array fields, array options)</p><p class="description">create a new table.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#dropDatabase()">dropDatabase</a>(string name, mixed database)</p><p class="description">drop an existing database.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#dropIndexSql()">dropIndexSql</a>(string table, string name)</p><p class="description">dropIndexSql.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#dropSequenceSql()">dropSequenceSql</a>(string seqName, string sequenceName)</p><p class="description">This function drops an existing sequence.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getNotNullFieldDeclaration()">getNotNullFieldDeclaration</a>(mixed definition, array field)</p><p class="description">getNotNullFieldDeclaration
Obtain DBMS specific SQL code portion needed to set a NOT NULL
declaration to be used in statements like CREATE TABLE..</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getTemporaryTableQuery()">getTemporaryTableQuery</a>()</p><p class="description">Override the parent method..</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Doctrine\Doctrine_Export</th></tr>
<tr><td><a href="../doctrine/doctrine_export.html#alterTable()">alterTable</a>, <a href="../doctrine/doctrine_export.html#alterTableSql()">alterTableSql</a>, <a href="../doctrine/doctrine_export.html#createConstraint()">createConstraint</a>, <a href="../doctrine/doctrine_export.html#createConstraintSql()">createConstraintSql</a>, <a href="../doctrine/doctrine_export.html#createDatabase()">createDatabase</a>, <a href="../doctrine/doctrine_export.html#createDatabaseSql()">createDatabaseSql</a>, <a href="../doctrine/doctrine_export.html#createForeignKey()">createForeignKey</a>, <a href="../doctrine/doctrine_export.html#createForeignKeySql()">createForeignKeySql</a>, <a href="../doctrine/doctrine_export.html#createIndex()">createIndex</a>, <a href="../doctrine/doctrine_export.html#createIndexSql()">createIndexSql</a>, <a href="../doctrine/doctrine_export.html#createSequence()">createSequence</a>, <a href="../doctrine/doctrine_export.html#createSequenceSql()">createSequenceSql</a>, <a href="../doctrine/doctrine_export.html#createTable()">createTable</a>, <a href="../doctrine/doctrine_export.html#createTableSql()">createTableSql</a>, <a href="../doctrine/doctrine_export.html#dropConstraint()">dropConstraint</a>, <a href="../doctrine/doctrine_export.html#dropDatabase()">dropDatabase</a>, <a href="../doctrine/doctrine_export.html#dropDatabaseSql()">dropDatabaseSql</a>, <a href="../doctrine/doctrine_export.html#dropForeignKey()">dropForeignKey</a>, <a href="../doctrine/doctrine_export.html#dropIndex()">dropIndex</a>, <a href="../doctrine/doctrine_export.html#dropIndexSql()">dropIndexSql</a>, <a href="../doctrine/doctrine_export.html#dropSequence()">dropSequence</a>, <a href="../doctrine/doctrine_export.html#dropSequenceSql()">dropSequenceSql</a>, <a href="../doctrine/doctrine_export.html#dropTable()">dropTable</a>, <a href="../doctrine/doctrine_export.html#dropTableSql()">dropTableSql</a>, <a href="../doctrine/doctrine_export.html#exportClasses()">exportClasses</a>, <a href="../doctrine/doctrine_export.html#exportClassesSql()">exportClassesSql</a>, <a href="../doctrine/doctrine_export.html#exportGeneratorsSql()">exportGeneratorsSql</a>, <a href="../doctrine/doctrine_export.html#exportSchema()">exportSchema</a>, <a href="../doctrine/doctrine_export.html#exportSortedClassesSql()">exportSortedClassesSql</a>, <a href="../doctrine/doctrine_export.html#exportSql()">exportSql</a>, <a href="../doctrine/doctrine_export.html#exportTable()">exportTable</a>, <a href="../doctrine/doctrine_export.html#getAdvancedForeignKeyOptions()">getAdvancedForeignKeyOptions</a>, <a href="../doctrine/doctrine_export.html#getAllGenerators()">getAllGenerators</a>, <a href="../doctrine/doctrine_export.html#getCharsetFieldDeclaration()">getCharsetFieldDeclaration</a>, <a href="../doctrine/doctrine_export.html#getCheckDeclaration()">getCheckDeclaration</a>, <a href="../doctrine/doctrine_export.html#getCollationFieldDeclaration()">getCollationFieldDeclaration</a>, <a href="../doctrine/doctrine_export.html#getDeclaration()">getDeclaration</a>, <a href="../doctrine/doctrine_export.html#getDefaultFieldDeclaration()">getDefaultFieldDeclaration</a>, <a href="../doctrine/doctrine_export.html#getFieldDeclarationList()">getFieldDeclarationList</a>, <a href="../doctrine/doctrine_export.html#getForeignKeyBaseDeclaration()">getForeignKeyBaseDeclaration</a>, <a href="../doctrine/doctrine_export.html#getForeignKeyDeclaration()">getForeignKeyDeclaration</a>, <a href="../doctrine/doctrine_export.html#getForeignKeyReferentialAction()">getForeignKeyReferentialAction</a>, <a href="../doctrine/doctrine_export.html#getIndexDeclaration()">getIndexDeclaration</a>, <a href="../doctrine/doctrine_export.html#getIndexFieldDeclarationList()">getIndexFieldDeclarationList</a>, <a href="../doctrine/doctrine_export.html#getNotNullFieldDeclaration()">getNotNullFieldDeclaration</a>, <a href="../doctrine/doctrine_export.html#getTemporaryTableQuery()">getTemporaryTableQuery</a>, <a href="../doctrine/doctrine_export.html#getUniqueFieldDeclaration()">getUniqueFieldDeclaration</a></td></tr></table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Doctrine\Doctrine_Connection_Module</th></tr>
<tr><td><a href="../doctrine/doctrine_connection_module.html#getConnection()">getConnection</a>, <a href="../doctrine/doctrine_connection_module.html#getModuleName()">getModuleName</a></td></tr></table>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/Export/Mssql.php at line 175</div>
<h3 id="alterTable()">alterTable</h3>
<code class="signature">public  void <strong>alterTable</strong>(string name, array changes, boolean check)</code>
<div class="details">
<p>alter an existing table</p><dl>
<dt>Parameters:</dt>
<dd>name - name of the table that is intended to be changed.</dd>
<dd>changes - associative array that contains the details of each type of change that is intended to be performed. The types of changes that are currently supported are defined as follows: name New name for the table. add Associative array with the names of fields to be added as indexes of the array. The value of each entry of the array should be set to another associative array with the properties of the fields to be added. The properties of the fields should be the same as defined by the Metabase parser. remove Associative array with the names of fields to be removed as indexes of the array. Currently the values assigned to each entry are ignored. An empty array should be used for future compatibility. rename Associative array with the names of fields to be renamed as indexes of the array. The value of each entry of the array should be set to another associative array with the entry named name with the new field name and the entry named Declaration that is expected to contain the portion of the field declaration already in DBMS specific SQL code as it is used in the CREATE TABLE statement. change Associative array with the names of the fields to be changed as indexes of the array. Keep in mind that if it is intended to change either the name of a field and any other properties, the change array entries should have the new names of the fields as array indexes. The value of each entry of the array should be set to another associative array with the properties of the fields to that are meant to be changed as array entries. These entries should be assigned to the new values of the respective properties. The properties of the fields should be the same as defined by the Metabase parser. Example array( 'name' => 'userlist', 'add' => array( 'quota' => array( 'type' => 'integer', 'unsigned' => 1 ) ), 'remove' => array( 'file_limit' => array(), 'time_limit' => array() ), 'change' => array( 'name' => array( 'length' => '20', 'definition' => array( 'type' => 'text', 'length' => 20, ), ) ), 'rename' => array( 'sex' => array( 'name' => 'gender', 'definition' => array( 'type' => 'text', 'length' => 1, 'default' => 'M', ), ) ) )</dd>
<dd>check - indicates whether the function should just check if the DBMS driver can perform the requested table alterations if the value is true or actually perform them otherwise.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 43</div>
<h3 id="createDatabase()">createDatabase</h3>
<code class="signature">public  void <strong>createDatabase</strong>(string name, mixed database)</code>
<div class="details">
<p>create a new database</p><dl>
<dt>Parameters:</dt>
<dd>name - name of the database that should be created</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 325</div>
<h3 id="createSequence()">createSequence</h3>
<code class="signature">public  string <strong>createSequence</strong>(string seqName, string start, array options)</code>
<div class="details">
<p>create sequence</p><dl>
<dt>Parameters:</dt>
<dd>seqName - name of the sequence to be created</dd>
<dd>start - start value of the sequence; default is 1</dd>
<dd>options - An associative array of table options: array( 'comment' => 'Foo', 'charset' => 'utf8', 'collate' => 'utf8_unicode_ci', );</dd>
<dt>Throws:</dt>
<dd>if something fails at database level</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 388</div>
<h3 id="createTableSql()">createTableSql</h3>
<code class="signature">public  string <strong>createTableSql</strong>(string name, array fields, array options)</code>
<div class="details">
<p>create a new table</p><dl>
<dt>Parameters:</dt>
<dd>name - Name of the database that should be created</dd>
<dd>fields - Associative array that contains the definition of each field of the new table The indexes of the array entries are the names of the fields of the table an the array entry values are associative arrays like those that are meant to be passed with the field definitions to get[Type]Declaration() functions. array( 'id' => array( 'type' => 'integer', 'unsigned' => 1 'notnull' => 1 'default' => 0 ), 'name' => array( 'type' => 'text', 'length' => 12 ), 'password' => array( 'type' => 'text', 'length' => 12 ) );</dd>
<dd>options - An associative array of table options:</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 62</div>
<h3 id="dropDatabase()">dropDatabase</h3>
<code class="signature">public  void <strong>dropDatabase</strong>(string name, mixed database)</code>
<div class="details">
<p>drop an existing database</p><dl>
<dt>Parameters:</dt>
<dd>name - name of the database that should be dropped</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 79</div>
<h3 id="dropIndexSql()">dropIndexSql</h3>
<code class="signature">public  string <strong>dropIndexSql</strong>(string table, string name)</code>
<div class="details">
<p>dropIndexSql</p><dl>
<dt>Parameters:</dt>
<dd>table - name of table that should be used in method</dd>
<dd>name - name of the index to be dropped</dd>
<dt>Returns:</dt>
<dd>SQL that is used for dropping an index</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 354</div>
<h3 id="dropSequenceSql()">dropSequenceSql</h3>
<code class="signature">public  void <strong>dropSequenceSql</strong>(string seqName, string sequenceName)</code>
<div class="details">
<p>This function drops an existing sequence</p><dl>
<dt>Parameters:</dt>
<dd>seqName - name of the sequence to be dropped</dd>
<dt>Throws:</dt>
<dd>if something fails at database level</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 465</div>
<h3 id="getNotNullFieldDeclaration()">getNotNullFieldDeclaration</h3>
<code class="signature">public  string <strong>getNotNullFieldDeclaration</strong>(mixed definition, array field)</code>
<div class="details">
<p>getNotNullFieldDeclaration
Obtain DBMS specific SQL code portion needed to set a NOT NULL
declaration to be used in statements like CREATE TABLE.</p><dl>
<dt>Parameters:</dt>
<dd>field - field definition array</dd>
<dt>Returns:</dt>
<dd>DBMS specific SQL code portion needed to set a default value</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/Export/Mssql.php at line 74</div>
<h3 id="getTemporaryTableQuery()">getTemporaryTableQuery</h3>
<code class="signature">public  string <strong>getTemporaryTableQuery</strong>()</code>
<div class="details">
<p>Override the parent method.</p><dl>
<dt>Returns:</dt>
<dd>The string required to be placed between "CREATE" and "TABLE" to generate a temporary table, if possible.</dd>
</dl>
</div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../doctrine/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../doctrine/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../doctrine/doctrine_export_mssql.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>